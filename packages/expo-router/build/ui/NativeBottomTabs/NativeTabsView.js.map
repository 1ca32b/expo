{"version":3,"file":"NativeTabsView.js","sourceRoot":"","sources":["../../../src/ui/NativeBottomTabs/NativeTabsView.tsx"],"names":[],"mappings":";;;;;AAoCA,wCAmCC;AAhED,kDAA0B;AAC1B,+DAAgE;AAEhE,4GAE8D;AAE9D,IAAA,mCAAY,EAAC,KAAK,CAAC,CAAC;AAsBpB,SAAgB,cAAc,CAAC,KAA0B;IACvD,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,EAAE,GAAG,KAAK,CAAC;IACnC,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;IACnD,MAAM,EAAE,MAAM,EAAE,GAAG,KAAK,CAAC;IAEzB,MAAM,QAAQ,GAAG,MAAM;SACpB,MAAM,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAE,WAAW,CAAC,GAAG,CAAC,CAAC,OAAe,EAAE,eAAe,EAAE,OAAO,KAAK,MAAM,CAAC;SAC3F,GAAG,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;QACpB,MAAM,UAAU,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC1C,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,KAAK,KAAK,CAAC;QAExC,OAAO,CACL,CAAC,0BAAgB,CACf,IAAI,UAAU,CAAC,OAAO,CAAC,CACvB,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CACf,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAClB,SAAS,CAAC,CAAC,SAAS,CAAC,CACrB,WAAW,CAAC,CAAC,GAAG,EAAE;gBAChB,UAAU,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,MAAM,EAAE,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC;YACzE,CAAC,CAAC,CACF,YAAY,CAAC,CAAC,GAAG,EAAE;gBACjB,UAAU,CAAC,QAAQ,CAAC;oBAClB,IAAI,EAAE,SAAS;oBACf,MAAM,EAAE,KAAK,CAAC,GAAG;oBACjB,OAAO,EAAE;wBACP,IAAI,EAAE,KAAK,CAAC,IAAI;qBACjB;iBACF,CAAC,CAAC;YACL,CAAC,CAAC,CACF;UAAA,CAAC,UAAU,CAAC,MAAM,EAAE,CACtB;QAAA,EAAE,0BAAgB,CAAC,CACpB,CAAC;IACJ,CAAC,CAAC,CAAC;IAEL,OAAO,CAAC,iCAAU,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,iCAAU,CAAC,CAAC;AACvD,CAAC","sourcesContent":["import {\n  DefaultRouterOptions,\n  ParamListBase,\n  TabNavigationState,\n  TabRouterOptions,\n  useNavigationBuilder,\n} from '@react-navigation/native';\nimport React from 'react';\nimport { BottomTabs, enableFreeze } from 'react-native-screens';\nimport { BottomTabsProps } from 'react-native-screens/lib/typescript/components/BottomTabs';\nimport BottomTabsScreen, {\n  BottomTabsScreenProps,\n} from 'react-native-screens/src/components/BottomTabsScreen';\n\nenableFreeze(false);\n\nexport interface NativeTabOptions extends DefaultRouterOptions {\n  placeholder?: React.ReactNode | undefined;\n  badgeValue?: string;\n  badgeColor?: BottomTabsScreenProps['badgeColor'];\n  title?: string;\n  icon?: string;\n}\n\nexport type NativeTabsViewProps = BottomTabsProps & {\n  builder: ReturnType<\n    typeof useNavigationBuilder<\n      TabNavigationState<ParamListBase>,\n      TabRouterOptions,\n      Record<string, (...args: any) => void>,\n      NativeTabOptions,\n      Record<string, any>\n    >\n  >;\n};\n\nexport function NativeTabsView(props: NativeTabsViewProps) {\n  const { builder, ...rest } = props;\n  const { state, descriptors, navigation } = builder;\n  const { routes } = state;\n\n  const children = routes\n    .filter(({ key }) => (descriptors[key].options as any)?.tabBarItemStyle?.display !== 'none')\n    .map((route, index) => {\n      const descriptor = descriptors[route.key];\n      const isFocused = state.index === index;\n\n      return (\n        <BottomTabsScreen\n          {...descriptor.options}\n          key={route.key}\n          tabKey={route.key}\n          isFocused={isFocused}\n          onDidSelect={() => {\n            navigation.emit({ type: 'tabSelected', target: descriptor.route.key });\n          }}\n          onWillAppear={() => {\n            navigation.dispatch({\n              type: 'JUMP_TO',\n              target: state.key,\n              payload: {\n                name: route.name,\n              },\n            });\n          }}>\n          {descriptor.render()}\n        </BottomTabsScreen>\n      );\n    });\n\n  return <BottomTabs {...rest}>{children}</BottomTabs>;\n}\n"]}