{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":74,"column":0,"index":2434}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":31,"index":97}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationContext","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":99},"end":{"line":4,"column":52,"index":151}}],"key":"zgSDczcMDbcgKjO1DngU1GAHQtI="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useFocusEvents;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[1], \"react\"));\n  var _NavigationContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./NavigationContext\"));\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  /**\n   * Hook to take care of emitting `focus` and `blur` events.\n   */\n  function useFocusEvents(_ref) {\n    var state = _ref.state,\n      emitter = _ref.emitter;\n    var navigation = React.useContext(_NavigationContext.default);\n    var lastFocusedKeyRef = React.useRef();\n    var currentFocusedKey = state.routes[state.index].key;\n\n    // When the parent screen changes its focus state, we also need to change child's focus\n    // Coz the child screen can't be focused if the parent screen is out of focus\n    React.useEffect(() => navigation?.addListener('focus', () => {\n      lastFocusedKeyRef.current = currentFocusedKey;\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }), [currentFocusedKey, emitter, navigation]);\n    React.useEffect(() => navigation?.addListener('blur', () => {\n      lastFocusedKeyRef.current = undefined;\n      emitter.emit({\n        type: 'blur',\n        target: currentFocusedKey\n      });\n    }), [currentFocusedKey, emitter, navigation]);\n    React.useEffect(() => {\n      var lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n\n      // We wouldn't have `lastFocusedKey` on initial mount\n      // Fire focus event for the current route on mount if there's no parent navigator\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n\n      // We should only emit events when the focused key changed and navigator is focused\n      // When navigator is not focused, screens inside shouldn't receive focused status either\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        // Only fire events after initial mount\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":69,"map":[[7,2,2,0],[7,6,2,0,"React"],[7,11,2,0],[7,14,2,0,"_interopRequireWildcard"],[7,37,2,0],[7,38,2,0,"_$$_REQUIRE"],[7,49,2,0],[7,50,2,0,"_dependencyMap"],[7,64,2,0],[8,2,4,0],[8,6,4,0,"_NavigationContext"],[8,24,4,0],[8,27,4,0,"_interopRequireDefault"],[8,49,4,0],[8,50,4,0,"_$$_REQUIRE"],[8,61,4,0],[8,62,4,0,"_dependencyMap"],[8,76,4,0],[9,2,4,52],[9,11,4,52,"_getRequireWildcardCache"],[9,36,4,52,"e"],[9,37,4,52],[9,66,4,52,"WeakMap"],[9,73,4,52],[9,92,4,52,"r"],[9,93,4,52],[9,100,4,52,"WeakMap"],[9,107,4,52],[9,111,4,52,"t"],[9,112,4,52],[9,119,4,52,"WeakMap"],[9,126,4,52],[9,138,4,52,"_getRequireWildcardCache"],[9,162,4,52],[9,174,4,52,"_getRequireWildcardCache"],[9,175,4,52,"e"],[9,176,4,52],[9,187,4,52,"e"],[9,188,4,52],[9,191,4,52,"t"],[9,192,4,52],[9,195,4,52,"r"],[9,196,4,52],[9,201,4,52,"e"],[9,202,4,52],[10,2,4,52],[10,11,4,52,"_interopRequireWildcard"],[10,35,4,52,"e"],[10,36,4,52],[10,38,4,52,"r"],[10,39,4,52],[10,48,4,52,"r"],[10,49,4,52],[10,53,4,52,"e"],[10,54,4,52],[10,58,4,52,"e"],[10,59,4,52],[10,60,4,52,"__esModule"],[10,70,4,52],[10,79,4,52,"e"],[10,80,4,52],[10,95,4,52,"e"],[10,96,4,52],[10,119,4,52,"e"],[10,120,4,52],[10,145,4,52,"e"],[10,146,4,52],[10,157,4,52,"default"],[10,164,4,52],[10,166,4,52,"e"],[10,167,4,52],[10,175,4,52,"t"],[10,176,4,52],[10,179,4,52,"_getRequireWildcardCache"],[10,203,4,52],[10,204,4,52,"r"],[10,205,4,52],[10,212,4,52,"t"],[10,213,4,52],[10,217,4,52,"t"],[10,218,4,52],[10,219,4,52,"has"],[10,222,4,52],[10,223,4,52,"e"],[10,224,4,52],[10,234,4,52,"t"],[10,235,4,52],[10,236,4,52,"get"],[10,239,4,52],[10,240,4,52,"e"],[10,241,4,52],[10,248,4,52,"n"],[10,249,4,52],[10,254,4,52,"__proto__"],[10,263,4,52],[10,273,4,52,"a"],[10,274,4,52],[10,277,4,52,"Object"],[10,283,4,52],[10,284,4,52,"defineProperty"],[10,298,4,52],[10,302,4,52,"Object"],[10,308,4,52],[10,309,4,52,"getOwnPropertyDescriptor"],[10,333,4,52],[10,344,4,52,"u"],[10,345,4,52],[10,349,4,52,"e"],[10,350,4,52],[10,370,4,52,"u"],[10,371,4,52],[10,375,4,52,"Object"],[10,381,4,52],[10,382,4,52,"prototype"],[10,391,4,52],[10,392,4,52,"hasOwnProperty"],[10,406,4,52],[10,407,4,52,"call"],[10,411,4,52],[10,412,4,52,"e"],[10,413,4,52],[10,415,4,52,"u"],[10,416,4,52],[10,425,4,52,"i"],[10,426,4,52],[10,429,4,52,"a"],[10,430,4,52],[10,433,4,52,"Object"],[10,439,4,52],[10,440,4,52,"getOwnPropertyDescriptor"],[10,464,4,52],[10,465,4,52,"e"],[10,466,4,52],[10,468,4,52,"u"],[10,469,4,52],[10,479,4,52,"i"],[10,480,4,52],[10,485,4,52,"i"],[10,486,4,52],[10,487,4,52,"get"],[10,490,4,52],[10,494,4,52,"i"],[10,495,4,52],[10,496,4,52,"set"],[10,499,4,52],[10,503,4,52,"Object"],[10,509,4,52],[10,510,4,52,"defineProperty"],[10,524,4,52],[10,525,4,52,"n"],[10,526,4,52],[10,528,4,52,"u"],[10,529,4,52],[10,531,4,52,"i"],[10,532,4,52],[10,536,4,52,"n"],[10,537,4,52],[10,538,4,52,"u"],[10,539,4,52],[10,543,4,52,"e"],[10,544,4,52],[10,545,4,52,"u"],[10,546,4,52],[10,558,4,52,"n"],[10,559,4,52],[10,560,4,52,"default"],[10,567,4,52],[10,570,4,52,"e"],[10,571,4,52],[10,573,4,52,"t"],[10,574,4,52],[10,578,4,52,"t"],[10,579,4,52],[10,580,4,52,"set"],[10,583,4,52],[10,584,4,52,"e"],[10,585,4,52],[10,587,4,52,"n"],[10,588,4,52],[10,591,4,52,"n"],[10,592,4,52],[11,2,13,0],[12,0,14,0],[13,0,15,0],[14,2,16,15],[14,11,16,24,"useFocusEvents"],[14,25,16,38,"useFocusEvents"],[14,26,16,38,"_ref"],[14,30,16,38],[14,32,19,19],[15,4,19,19],[15,8,17,2,"state"],[15,13,17,7],[15,16,17,7,"_ref"],[15,20,17,7],[15,21,17,2,"state"],[15,26,17,7],[16,6,18,2,"emitter"],[16,13,18,9],[16,16,18,9,"_ref"],[16,20,18,9],[16,21,18,2,"emitter"],[16,28,18,9],[17,4,20,2],[17,8,20,8,"navigation"],[17,18,20,18],[17,21,20,21,"React"],[17,26,20,26],[17,27,20,27,"useContext"],[17,37,20,37],[17,38,20,38,"NavigationContext"],[17,64,20,55],[17,65,20,56],[18,4,21,2],[18,8,21,8,"lastFocusedKeyRef"],[18,25,21,25],[18,28,21,28,"React"],[18,33,21,33],[18,34,21,34,"useRef"],[18,40,21,40],[18,41,21,61],[18,42,21,62],[19,4,23,2],[19,8,23,8,"currentFocusedKey"],[19,25,23,25],[19,28,23,28,"state"],[19,33,23,33],[19,34,23,34,"routes"],[19,40,23,40],[19,41,23,41,"state"],[19,46,23,46],[19,47,23,47,"index"],[19,52,23,52],[19,53,23,53],[19,54,23,54,"key"],[19,57,23,57],[21,4,25,2],[22,4,26,2],[23,4,27,2,"React"],[23,9,27,7],[23,10,27,8,"useEffect"],[23,19,27,17],[23,20,28,4],[23,26,29,6,"navigation"],[23,36,29,16],[23,38,29,18,"addListener"],[23,49,29,29],[23,50,29,30],[23,57,29,37],[23,59,29,39],[23,65,29,45],[24,6,30,8,"lastFocusedKeyRef"],[24,23,30,25],[24,24,30,26,"current"],[24,31,30,33],[24,34,30,36,"currentFocusedKey"],[24,51,30,53],[25,6,31,8,"emitter"],[25,13,31,15],[25,14,31,16,"emit"],[25,18,31,20],[25,19,31,21],[26,8,31,23,"type"],[26,12,31,27],[26,14,31,29],[26,21,31,36],[27,8,31,38,"target"],[27,14,31,44],[27,16,31,46,"currentFocusedKey"],[28,6,31,64],[28,7,31,65],[28,8,31,66],[29,4,32,6],[29,5,32,7],[29,6,32,8],[29,8,33,4],[29,9,33,5,"currentFocusedKey"],[29,26,33,22],[29,28,33,24,"emitter"],[29,35,33,31],[29,37,33,33,"navigation"],[29,47,33,43],[29,48,34,2],[29,49,34,3],[30,4,36,2,"React"],[30,9,36,7],[30,10,36,8,"useEffect"],[30,19,36,17],[30,20,37,4],[30,26,38,6,"navigation"],[30,36,38,16],[30,38,38,18,"addListener"],[30,49,38,29],[30,50,38,30],[30,56,38,36],[30,58,38,38],[30,64,38,44],[31,6,39,8,"lastFocusedKeyRef"],[31,23,39,25],[31,24,39,26,"current"],[31,31,39,33],[31,34,39,36,"undefined"],[31,43,39,45],[32,6,40,8,"emitter"],[32,13,40,15],[32,14,40,16,"emit"],[32,18,40,20],[32,19,40,21],[33,8,40,23,"type"],[33,12,40,27],[33,14,40,29],[33,20,40,35],[34,8,40,37,"target"],[34,14,40,43],[34,16,40,45,"currentFocusedKey"],[35,6,40,63],[35,7,40,64],[35,8,40,65],[36,4,41,6],[36,5,41,7],[36,6,41,8],[36,8,42,4],[36,9,42,5,"currentFocusedKey"],[36,26,42,22],[36,28,42,24,"emitter"],[36,35,42,31],[36,37,42,33,"navigation"],[36,47,42,43],[36,48,43,2],[36,49,43,3],[37,4,45,2,"React"],[37,9,45,7],[37,10,45,8,"useEffect"],[37,19,45,17],[37,20,45,18],[37,26,45,24],[38,6,46,4],[38,10,46,10,"lastFocusedKey"],[38,24,46,24],[38,27,46,27,"lastFocusedKeyRef"],[38,44,46,44],[38,45,46,45,"current"],[38,52,46,52],[39,6,48,4,"lastFocusedKeyRef"],[39,23,48,21],[39,24,48,22,"current"],[39,31,48,29],[39,34,48,32,"currentFocusedKey"],[39,51,48,49],[41,6,50,4],[42,6,51,4],[43,6,52,4],[43,10,52,8,"lastFocusedKey"],[43,24,52,22],[43,29,52,27,"undefined"],[43,38,52,36],[43,42,52,40],[43,43,52,41,"navigation"],[43,53,52,51],[43,55,52,53],[44,8,53,6,"emitter"],[44,15,53,13],[44,16,53,14,"emit"],[44,20,53,18],[44,21,53,19],[45,10,53,21,"type"],[45,14,53,25],[45,16,53,27],[45,23,53,34],[46,10,53,36,"target"],[46,16,53,42],[46,18,53,44,"currentFocusedKey"],[47,8,53,62],[47,9,53,63],[47,10,53,64],[48,6,54,4],[50,6,56,4],[51,6,57,4],[52,6,58,4],[52,10,59,6,"lastFocusedKey"],[52,24,59,20],[52,29,59,25,"currentFocusedKey"],[52,46,59,42],[52,50,60,6],[52,52,60,8,"navigation"],[52,62,60,18],[52,65,60,21,"navigation"],[52,75,60,31],[52,76,60,32,"isFocused"],[52,85,60,41],[52,86,60,42],[52,87,60,43],[52,90,60,46],[52,94,60,50],[52,95,60,51],[52,97,61,6],[53,8,62,6],[54,6,63,4],[55,6,65,4],[55,10,65,8,"lastFocusedKey"],[55,24,65,22],[55,29,65,27,"undefined"],[55,38,65,36],[55,40,65,38],[56,8,66,6],[57,8,67,6],[58,6,68,4],[59,6,70,4,"emitter"],[59,13,70,11],[59,14,70,12,"emit"],[59,18,70,16],[59,19,70,17],[60,8,70,19,"type"],[60,12,70,23],[60,14,70,25],[60,20,70,31],[61,8,70,33,"target"],[61,14,70,39],[61,16,70,41,"lastFocusedKey"],[62,6,70,56],[62,7,70,57],[62,8,70,58],[63,6,71,4,"emitter"],[63,13,71,11],[63,14,71,12,"emit"],[63,18,71,16],[63,19,71,17],[64,8,71,19,"type"],[64,12,71,23],[64,14,71,25],[64,21,71,32],[65,8,71,34,"target"],[65,14,71,40],[65,16,71,42,"currentFocusedKey"],[66,6,71,60],[66,7,71,61],[66,8,71,62],[67,4,72,2],[67,5,72,3],[67,7,72,5],[67,8,72,6,"currentFocusedKey"],[67,25,72,23],[67,27,72,25,"emitter"],[67,34,72,32],[67,36,72,34,"navigation"],[67,46,72,44],[67,47,72,45],[67,48,72,46],[68,2,73,0],[69,0,73,1],[69,3]],"functionMap":{"names":["<global>","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;eCe;ICY;uCCC;ODG,CD;ICK;sCCC;ODG,CD;kBCI;GD2B;CDC"}},"type":"js/module"}]}