{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":87,"column":0,"index":3343}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":87,"column":0,"index":3343}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":87,"column":0,"index":3343}}],"key":"l9ek7s8G7hY7pJY4P1vxwsk0NPM="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":87,"column":0,"index":3343}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":0,"index":52},"end":{"line":5,"column":65,"index":117}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  // Copyright Â© 2024 650 Industries.\n\n  'use client';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createPermissionHook = createPermissionHook;\n  var _asyncToGenerator2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _objectWithoutProperties2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/objectWithoutProperties\"));\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/slicedToArray\"));\n  var _react = _$$_REQUIRE(_dependencyMap[4], \"react\");\n  var _s = $RefreshSig$();\n  var _excluded = [\"get\", \"request\"];\n  // These types are identical, but improves the readability for suggestions in editors\n\n  /**\n   * Get or request permission for protected functionality within the app.\n   * It uses separate permission requesters to interact with a single permission.\n   * By default, the hook will only retrieve the permission status.\n   */\n  function usePermission(methods, options) {\n    _s();\n    var isMounted = (0, _react.useRef)(true);\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      status = _useState2[0],\n      setStatus = _useState2[1];\n    var _ref = options || {},\n      _ref$get = _ref.get,\n      get = _ref$get === void 0 ? true : _ref$get,\n      _ref$request = _ref.request,\n      request = _ref$request === void 0 ? false : _ref$request,\n      permissionOptions = (0, _objectWithoutProperties2.default)(_ref, _excluded);\n    var getPermission = (0, _react.useCallback)( /*#__PURE__*/(0, _asyncToGenerator2.default)(function* () {\n      var response = yield methods.getMethod(Object.keys(permissionOptions).length > 0 ? permissionOptions : undefined);\n      if (isMounted.current) setStatus(response);\n      return response;\n    }), [methods.getMethod]);\n    var requestPermission = (0, _react.useCallback)( /*#__PURE__*/(0, _asyncToGenerator2.default)(function* () {\n      var response = yield methods.requestMethod(Object.keys(permissionOptions).length > 0 ? permissionOptions : undefined);\n      if (isMounted.current) setStatus(response);\n      return response;\n    }), [methods.requestMethod]);\n    (0, _react.useEffect)(function runMethods() {\n      if (request) requestPermission();\n      if (!request && get) getPermission();\n    }, [get, request, requestPermission, getPermission]);\n\n    // Workaround for unmounting components receiving state updates\n    (0, _react.useEffect)(function didMount() {\n      isMounted.current = true;\n      return () => {\n        isMounted.current = false;\n      };\n    }, []);\n    return [status, requestPermission, getPermission];\n  }\n\n  /**\n   * Create a new permission hook with the permission methods built-in.\n   * This can be used to quickly create specific permission hooks in every module.\n   */\n  _s(usePermission, \"9B1KjJe+tDO5kfPbaztL3On2IQM=\");\n  function createPermissionHook(methods) {\n    var _s2 = $RefreshSig$();\n    return _s2(options => {\n      _s2();\n      return usePermission(methods, options);\n    }, \"YerX1NJstLnliRde1KY147npMOI=\", false, function () {\n      return [usePermission];\n    });\n  }\n});","lineCount":76,"map":[[2,2,1,0],[4,2,3,0],[4,14,3,12],[6,2,3,13],[6,6,3,13,"_interopRequireDefault"],[6,28,3,13],[6,31,3,13,"_$$_REQUIRE"],[6,42,3,13],[6,43,3,13,"_dependencyMap"],[6,57,3,13],[7,2,3,13,"Object"],[7,8,3,13],[7,9,3,13,"defineProperty"],[7,23,3,13],[7,24,3,13,"exports"],[7,31,3,13],[8,4,3,13,"value"],[8,9,3,13],[9,2,3,13],[10,2,3,13,"exports"],[10,9,3,13],[10,10,3,13,"createPermissionHook"],[10,30,3,13],[10,33,3,13,"createPermissionHook"],[10,53,3,13],[11,2,3,13],[11,6,3,13,"_asyncToGenerator2"],[11,24,3,13],[11,27,3,13,"_interopRequireDefault"],[11,49,3,13],[11,50,3,13,"_$$_REQUIRE"],[11,61,3,13],[11,62,3,13,"_dependencyMap"],[11,76,3,13],[12,2,3,13],[12,6,3,13,"_objectWithoutProperties2"],[12,31,3,13],[12,34,3,13,"_interopRequireDefault"],[12,56,3,13],[12,57,3,13,"_$$_REQUIRE"],[12,68,3,13],[12,69,3,13,"_dependencyMap"],[12,83,3,13],[13,2,3,13],[13,6,3,13,"_slicedToArray2"],[13,21,3,13],[13,24,3,13,"_interopRequireDefault"],[13,46,3,13],[13,47,3,13,"_$$_REQUIRE"],[13,58,3,13],[13,59,3,13,"_dependencyMap"],[13,73,3,13],[14,2,5,0],[14,6,5,0,"_react"],[14,12,5,0],[14,15,5,0,"_$$_REQUIRE"],[14,26,5,0],[14,27,5,0,"_dependencyMap"],[14,41,5,0],[15,2,5,65],[15,6,5,65,"_s"],[15,8,5,65],[15,11,5,65,"$RefreshSig$"],[15,23,5,65],[16,2,5,65],[16,6,5,65,"_excluded"],[16,15,5,65],[17,2,9,0],[19,2,29,0],[20,0,30,0],[21,0,31,0],[22,0,32,0],[23,0,33,0],[24,2,34,0],[24,11,34,9,"usePermission"],[24,24,34,22,"usePermission"],[24,25,35,2,"methods"],[24,32,35,53],[24,34,36,2,"options"],[24,41,36,42],[24,43,37,93],[25,4,37,93,"_s"],[25,6,37,93],[26,4,38,2],[26,8,38,8,"isMounted"],[26,17,38,17],[26,20,38,20],[26,24,38,20,"useRef"],[26,37,38,26],[26,39,38,27],[26,43,38,31],[26,44,38,32],[27,4,39,2],[27,8,39,2,"_useState"],[27,17,39,2],[27,20,39,30],[27,24,39,30,"useState"],[27,39,39,38],[27,41,39,58],[27,45,39,62],[27,46,39,63],[28,6,39,63,"_useState2"],[28,16,39,63],[28,23,39,63,"_slicedToArray2"],[28,38,39,63],[28,39,39,63,"default"],[28,46,39,63],[28,48,39,63,"_useState"],[28,57,39,63],[29,6,39,9,"status"],[29,12,39,15],[29,15,39,15,"_useState2"],[29,25,39,15],[30,6,39,17,"setStatus"],[30,15,39,26],[30,18,39,26,"_useState2"],[30,28,39,26],[31,4,40,2],[31,8,40,2,"_ref"],[31,12,40,2],[31,15,40,64,"options"],[31,22,40,71],[31,26,40,75],[31,27,40,76],[31,28,40,77],[32,6,40,77,"_ref$get"],[32,14,40,77],[32,17,40,77,"_ref"],[32,21,40,77],[32,22,40,10,"get"],[32,25,40,13],[33,6,40,10,"get"],[33,9,40,13],[33,12,40,13,"_ref$get"],[33,20,40,13],[33,34,40,16],[33,38,40,20],[33,41,40,20,"_ref$get"],[33,49,40,20],[34,6,40,20,"_ref$request"],[34,18,40,20],[34,21,40,20,"_ref"],[34,25,40,20],[34,26,40,22,"request"],[34,33,40,29],[35,6,40,22,"request"],[35,13,40,29],[35,16,40,29,"_ref$request"],[35,28,40,29],[35,42,40,32],[35,47,40,37],[35,50,40,37,"_ref$request"],[35,62,40,37],[36,6,40,42,"permissionOptions"],[36,23,40,59],[36,30,40,59,"_objectWithoutProperties2"],[36,55,40,59],[36,56,40,59,"default"],[36,63,40,59],[36,65,40,59,"_ref"],[36,69,40,59],[36,71,40,59,"_excluded"],[36,80,40,59],[37,4,42,2],[37,8,42,8,"getPermission"],[37,21,42,21],[37,24,42,24],[37,28,42,24,"useCallback"],[37,46,42,35],[37,66,42,35,"_asyncToGenerator2"],[37,84,42,35],[37,85,42,35,"default"],[37,92,42,35],[37,94,42,36],[37,107,42,48],[38,6,43,4],[38,10,43,10,"response"],[38,18,43,18],[38,27,43,27,"methods"],[38,34,43,34],[38,35,43,35,"getMethod"],[38,44,43,44],[38,45,44,6,"Object"],[38,51,44,12],[38,52,44,13,"keys"],[38,56,44,17],[38,57,44,18,"permissionOptions"],[38,74,44,35],[38,75,44,36],[38,76,44,37,"length"],[38,82,44,43],[38,85,44,46],[38,86,44,47],[38,89,44,51,"permissionOptions"],[38,106,44,68],[38,109,44,83,"undefined"],[38,118,45,4],[38,119,45,5],[39,6,46,4],[39,10,46,8,"isMounted"],[39,19,46,17],[39,20,46,18,"current"],[39,27,46,25],[39,29,46,27,"setStatus"],[39,38,46,36],[39,39,46,37,"response"],[39,47,46,45],[39,48,46,46],[40,6,47,4],[40,13,47,11,"response"],[40,21,47,19],[41,4,48,2],[41,5,48,3],[41,8,48,5],[41,9,48,6,"methods"],[41,16,48,13],[41,17,48,14,"getMethod"],[41,26,48,23],[41,27,48,24],[41,28,48,25],[42,4,50,2],[42,8,50,8,"requestPermission"],[42,25,50,25],[42,28,50,28],[42,32,50,28,"useCallback"],[42,50,50,39],[42,70,50,39,"_asyncToGenerator2"],[42,88,50,39],[42,89,50,39,"default"],[42,96,50,39],[42,98,50,40],[42,111,50,52],[43,6,51,4],[43,10,51,10,"response"],[43,18,51,18],[43,27,51,27,"methods"],[43,34,51,34],[43,35,51,35,"requestMethod"],[43,48,51,48],[43,49,52,6,"Object"],[43,55,52,12],[43,56,52,13,"keys"],[43,60,52,17],[43,61,52,18,"permissionOptions"],[43,78,52,35],[43,79,52,36],[43,80,52,37,"length"],[43,86,52,43],[43,89,52,46],[43,90,52,47],[43,93,52,51,"permissionOptions"],[43,110,52,68],[43,113,52,83,"undefined"],[43,122,53,4],[43,123,53,5],[44,6,54,4],[44,10,54,8,"isMounted"],[44,19,54,17],[44,20,54,18,"current"],[44,27,54,25],[44,29,54,27,"setStatus"],[44,38,54,36],[44,39,54,37,"response"],[44,47,54,45],[44,48,54,46],[45,6,55,4],[45,13,55,11,"response"],[45,21,55,19],[46,4,56,2],[46,5,56,3],[46,8,56,5],[46,9,56,6,"methods"],[46,16,56,13],[46,17,56,14,"requestMethod"],[46,30,56,27],[46,31,56,28],[46,32,56,29],[47,4,58,2],[47,8,58,2,"useEffect"],[47,24,58,11],[47,26,59,4],[47,35,59,13,"runMethods"],[47,45,59,23,"runMethods"],[47,46,59,23],[47,48,59,26],[48,6,60,6],[48,10,60,10,"request"],[48,17,60,17],[48,19,60,19,"requestPermission"],[48,36,60,36],[48,37,60,37],[48,38,60,38],[49,6,61,6],[49,10,61,10],[49,11,61,11,"request"],[49,18,61,18],[49,22,61,22,"get"],[49,25,61,25],[49,27,61,27,"getPermission"],[49,40,61,40],[49,41,61,41],[49,42,61,42],[50,4,62,4],[50,5,62,5],[50,7,63,4],[50,8,63,5,"get"],[50,11,63,8],[50,13,63,10,"request"],[50,20,63,17],[50,22,63,19,"requestPermission"],[50,39,63,36],[50,41,63,38,"getPermission"],[50,54,63,51],[50,55,64,2],[50,56,64,3],[52,4,66,2],[53,4,67,2],[53,8,67,2,"useEffect"],[53,24,67,11],[53,26,67,12],[53,35,67,21,"didMount"],[53,43,67,29,"didMount"],[53,44,67,29],[53,46,67,32],[54,6,68,4,"isMounted"],[54,15,68,13],[54,16,68,14,"current"],[54,23,68,21],[54,26,68,24],[54,30,68,28],[55,6,69,4],[55,13,69,11],[55,19,69,17],[56,8,70,6,"isMounted"],[56,17,70,15],[56,18,70,16,"current"],[56,25,70,23],[56,28,70,26],[56,33,70,31],[57,6,71,4],[57,7,71,5],[58,4,72,2],[58,5,72,3],[58,7,72,5],[58,9,72,7],[58,10,72,8],[59,4,74,2],[59,11,74,9],[59,12,74,10,"status"],[59,18,74,16],[59,20,74,18,"requestPermission"],[59,37,74,35],[59,39,74,37,"getPermission"],[59,52,74,50],[59,53,74,51],[60,2,75,0],[62,2,77,0],[63,0,78,0],[64,0,79,0],[65,0,80,0],[66,2,77,0,"_s"],[66,4,77,0],[66,5,34,9,"usePermission"],[66,18,34,22],[67,2,81,7],[67,11,81,16,"createPermissionHook"],[67,31,81,36,"createPermissionHook"],[67,32,82,2,"methods"],[67,39,82,53],[67,41,83,2],[68,4,83,2],[68,8,83,2,"_s2"],[68,11,83,2],[68,14,83,2,"$RefreshSig$"],[68,26,83,2],[69,4,84,2],[69,11,84,2,"_s2"],[69,14,84,2],[69,15,84,10,"options"],[69,22,84,50],[70,6,84,50,"_s2"],[70,9,84,50],[71,6,84,50],[71,13,85,4,"usePermission"],[71,26,85,17],[71,27,85,39,"methods"],[71,34,85,46],[71,36,85,48,"options"],[71,43,85,55],[71,44,85,56],[72,4,85,56],[73,6,85,56],[73,14,85,4,"usePermission"],[73,27,85,17],[74,4,85,17],[75,2,86,0],[76,0,86,1],[76,3]],"functionMap":{"names":["<global>","usePermission","getPermission","requestPermission","runMethods","didMount","<anonymous>","createPermissionHook"],"mappings":"AAA;ACiC;oCCQ;GDM;wCEE;GFM;IGG;KHG;YIK;WCE;KDE;GJC;CDG;OOM;SDG;wDCC;CPC"}},"type":"js/module"}]}