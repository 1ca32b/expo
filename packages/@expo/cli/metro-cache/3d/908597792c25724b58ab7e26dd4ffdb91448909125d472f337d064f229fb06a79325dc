{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":82,"column":0,"index":2010}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../EventEmitter/RCTDeviceEventEmitter","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":11,"column":0,"index":215},"end":{"line":11,"column":74,"index":289}}],"key":"8/8s2qHajvAK0ZSPYhrCXcF24uY="}},{"name":"./NativeSettingsManager","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":12,"column":0,"index":290},"end":{"line":12,"column":60,"index":350}}],"key":"oaf9/XJkyzxCya3/pbdF5SG3klI="}},{"name":"invariant","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":13,"column":0,"index":351},"end":{"line":13,"column":34,"index":385}}],"key":"Fzi/BpZws2YooIGJ9b6u0HJtuks="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  var _RCTDeviceEventEmitter = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../EventEmitter/RCTDeviceEventEmitter\"));\n  var _NativeSettingsManager = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./NativeSettingsManager\"));\n  var _invariant = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"invariant\"));\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   * \n   */\n\n  var subscriptions = [];\n  var Settings = {\n    _settings: _NativeSettingsManager.default && _NativeSettingsManager.default.getConstants().settings,\n    get(key) {\n      // $FlowFixMe[object-this-reference]\n      return this._settings[key];\n    },\n    set(settings) {\n      // $FlowFixMe[object-this-reference]\n      this._settings = Object.assign(this._settings, settings);\n      _NativeSettingsManager.default.setValues(settings);\n    },\n    watchKeys(keys, callback) {\n      if (typeof keys === 'string') {\n        keys = [keys];\n      }\n      (0, _invariant.default)(Array.isArray(keys), 'keys should be a string or array of strings');\n      var sid = subscriptions.length;\n      subscriptions.push({\n        keys: keys,\n        callback: callback\n      });\n      return sid;\n    },\n    clearWatch(watchId) {\n      if (watchId < subscriptions.length) {\n        subscriptions[watchId] = {\n          keys: [],\n          callback: null\n        };\n      }\n    },\n    _sendObservations(body) {\n      Object.keys(body).forEach(key => {\n        var newValue = body[key];\n        // $FlowFixMe[object-this-reference]\n        var didChange = this._settings[key] !== newValue;\n        // $FlowFixMe[object-this-reference]\n        this._settings[key] = newValue;\n        if (didChange) {\n          subscriptions.forEach(sub => {\n            if (sub.keys.indexOf(key) !== -1 && sub.callback) {\n              sub.callback();\n            }\n          });\n        }\n      });\n    }\n  };\n  _RCTDeviceEventEmitter.default.addListener('settingsUpdated', Settings._sendObservations.bind(Settings));\n  module.exports = Settings;\n});","lineCount":67,"map":[[3,2,11,0],[3,6,11,0,"_RCTDeviceEventEmitter"],[3,28,11,0],[3,31,11,0,"_interopRequireDefault"],[3,53,11,0],[3,54,11,0,"_$$_REQUIRE"],[3,65,11,0],[3,66,11,0,"_dependencyMap"],[3,80,11,0],[4,2,12,0],[4,6,12,0,"_NativeSettingsManager"],[4,28,12,0],[4,31,12,0,"_interopRequireDefault"],[4,53,12,0],[4,54,12,0,"_$$_REQUIRE"],[4,65,12,0],[4,66,12,0,"_dependencyMap"],[4,80,12,0],[5,2,13,0],[5,6,13,0,"_invariant"],[5,16,13,0],[5,19,13,0,"_interopRequireDefault"],[5,41,13,0],[5,42,13,0,"_$$_REQUIRE"],[5,53,13,0],[5,54,13,0,"_dependencyMap"],[5,68,13,0],[6,2,1,0],[7,0,2,0],[8,0,3,0],[9,0,4,0],[10,0,5,0],[11,0,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[16,2,15,0],[16,6,15,6,"subscriptions"],[16,19,19,2],[16,22,19,5],[16,24,19,7],[17,2,21,0],[17,6,21,6,"Settings"],[17,14,21,14],[17,17,21,17],[18,4,22,2,"_settings"],[18,13,22,11],[18,15,22,14,"NativeSettingsManager"],[18,45,22,35],[18,49,23,4,"NativeSettingsManager"],[18,79,23,25],[18,80,23,26,"getConstants"],[18,92,23,38],[18,93,23,39],[18,94,23,40],[18,95,23,41,"settings"],[18,103,23,55],[19,4,25,2,"get"],[19,7,25,5,"get"],[19,8,25,6,"key"],[19,11,25,17],[19,13,25,26],[20,6,26,4],[21,6,27,4],[21,13,27,11],[21,17,27,15],[21,18,27,16,"_settings"],[21,27,27,25],[21,28,27,26,"key"],[21,31,27,29],[21,32,27,30],[22,4,28,2],[22,5,28,3],[23,4,30,2,"set"],[23,7,30,5,"set"],[23,8,30,6,"settings"],[23,16,30,22],[23,18,30,24],[24,6,31,4],[25,6,32,4],[25,10,32,8],[25,11,32,9,"_settings"],[25,20,32,18],[25,23,32,21,"Object"],[25,29,32,27],[25,30,32,28,"assign"],[25,36,32,34],[25,37,32,35],[25,41,32,39],[25,42,32,40,"_settings"],[25,51,32,49],[25,53,32,51,"settings"],[25,61,32,59],[25,62,32,60],[26,6,33,4,"NativeSettingsManager"],[26,36,33,25],[26,37,33,26,"setValues"],[26,46,33,35],[26,47,33,36,"settings"],[26,55,33,44],[26,56,33,45],[27,4,34,2],[27,5,34,3],[28,4,36,2,"watchKeys"],[28,13,36,11,"watchKeys"],[28,14,36,12,"keys"],[28,18,36,40],[28,20,36,42,"callback"],[28,28,36,60],[28,30,36,70],[29,6,37,4],[29,10,37,8],[29,17,37,15,"keys"],[29,21,37,19],[29,26,37,24],[29,34,37,32],[29,36,37,34],[30,8,38,6,"keys"],[30,12,38,10],[30,15,38,13],[30,16,38,14,"keys"],[30,20,38,18],[30,21,38,19],[31,6,39,4],[32,6,41,4],[32,10,41,4,"invariant"],[32,28,41,13],[32,30,42,6,"Array"],[32,35,42,11],[32,36,42,12,"isArray"],[32,43,42,19],[32,44,42,20,"keys"],[32,48,42,24],[32,49,42,25],[32,51,43,6],[32,96,44,4],[32,97,44,5],[33,6,46,4],[33,10,46,10,"sid"],[33,13,46,13],[33,16,46,16,"subscriptions"],[33,29,46,29],[33,30,46,30,"length"],[33,36,46,36],[34,6,47,4,"subscriptions"],[34,19,47,17],[34,20,47,18,"push"],[34,24,47,22],[34,25,47,23],[35,8,47,24,"keys"],[35,12,47,28],[35,14,47,30,"keys"],[35,18,47,34],[36,8,47,36,"callback"],[36,16,47,44],[36,18,47,46,"callback"],[37,6,47,54],[37,7,47,55],[37,8,47,56],[38,6,48,4],[38,13,48,11,"sid"],[38,16,48,14],[39,4,49,2],[39,5,49,3],[40,4,51,2,"clearWatch"],[40,14,51,12,"clearWatch"],[40,15,51,13,"watchId"],[40,22,51,28],[40,24,51,30],[41,6,52,4],[41,10,52,8,"watchId"],[41,17,52,15],[41,20,52,18,"subscriptions"],[41,33,52,31],[41,34,52,32,"length"],[41,40,52,38],[41,42,52,40],[42,8,53,6,"subscriptions"],[42,21,53,19],[42,22,53,20,"watchId"],[42,29,53,27],[42,30,53,28],[42,33,53,31],[43,10,53,32,"keys"],[43,14,53,36],[43,16,53,38],[43,18,53,40],[44,10,53,42,"callback"],[44,18,53,50],[44,20,53,52],[45,8,53,56],[45,9,53,57],[46,6,54,4],[47,4,55,2],[47,5,55,3],[48,4,57,2,"_sendObservations"],[48,21,57,19,"_sendObservations"],[48,22,57,20,"body"],[48,26,57,32],[48,28,57,34],[49,6,58,4,"Object"],[49,12,58,10],[49,13,58,11,"keys"],[49,17,58,15],[49,18,58,16,"body"],[49,22,58,20],[49,23,58,21],[49,24,58,22,"forEach"],[49,31,58,29],[49,32,58,30,"key"],[49,35,58,33],[49,39,58,37],[50,8,59,6],[50,12,59,12,"newValue"],[50,20,59,20],[50,23,59,23,"body"],[50,27,59,27],[50,28,59,28,"key"],[50,31,59,31],[50,32,59,32],[51,8,60,6],[52,8,61,6],[52,12,61,12,"didChange"],[52,21,61,21],[52,24,61,24],[52,28,61,28],[52,29,61,29,"_settings"],[52,38,61,38],[52,39,61,39,"key"],[52,42,61,42],[52,43,61,43],[52,48,61,48,"newValue"],[52,56,61,56],[53,8,62,6],[54,8,63,6],[54,12,63,10],[54,13,63,11,"_settings"],[54,22,63,20],[54,23,63,21,"key"],[54,26,63,24],[54,27,63,25],[54,30,63,28,"newValue"],[54,38,63,36],[55,8,65,6],[55,12,65,10,"didChange"],[55,21,65,19],[55,23,65,21],[56,10,66,8,"subscriptions"],[56,23,66,21],[56,24,66,22,"forEach"],[56,31,66,29],[56,32,66,30,"sub"],[56,35,66,33],[56,39,66,37],[57,12,67,10],[57,16,67,14,"sub"],[57,19,67,17],[57,20,67,18,"keys"],[57,24,67,22],[57,25,67,23,"indexOf"],[57,32,67,30],[57,33,67,31,"key"],[57,36,67,34],[57,37,67,35],[57,42,67,40],[57,43,67,41],[57,44,67,42],[57,48,67,46,"sub"],[57,51,67,49],[57,52,67,50,"callback"],[57,60,67,58],[57,62,67,60],[58,14,68,12,"sub"],[58,17,68,15],[58,18,68,16,"callback"],[58,26,68,24],[58,27,68,25],[58,28,68,26],[59,12,69,10],[60,10,70,8],[60,11,70,9],[60,12,70,10],[61,8,71,6],[62,6,72,4],[62,7,72,5],[62,8,72,6],[63,4,73,2],[64,2,74,0],[64,3,74,1],[65,2,76,0,"RCTDeviceEventEmitter"],[65,32,76,21],[65,33,76,22,"addListener"],[65,44,76,33],[65,45,77,2],[65,62,77,19],[65,64,78,2,"Settings"],[65,72,78,10],[65,73,78,11,"_sendObservations"],[65,90,78,28],[65,91,78,29,"bind"],[65,95,78,33],[65,96,78,34,"Settings"],[65,104,78,42],[65,105,79,0],[65,106,79,1],[66,2,81,0,"module"],[66,8,81,6],[66,9,81,7,"exports"],[66,16,81,14],[66,19,81,17,"Settings"],[66,27,81,25],[67,0,81,26],[67,3]],"functionMap":{"names":["<global>","get","set","watchKeys","clearWatch","_sendObservations","Object.keys.forEach$argument_0","subscriptions.forEach$argument_0"],"mappings":"AAA;ECwB;GDG;EEE;GFI;EGE;GHa;EIE;GJI;EKE;8BCC;8BCQ;SDI;KDE;GLC"}},"type":"js/module"}]}