{"dependencies":[{"name":"./ViewConfigIgnore","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":12,"column":0,"index":290},"end":{"line":12,"column":45,"index":335}}],"key":"BeuUrNqCWAIHigLqPpBLphwDOPU="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.stringifyValidationResult = stringifyValidationResult;\n  exports.validate = validate;\n  var _ViewConfigIgnore = _$$_REQUIRE(_dependencyMap[0], \"./ViewConfigIgnore\");\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  /**\n   * During the migration from native view configs to static view configs, this is\n   * used to validate that the two are equivalent.\n   */\n  function validate(name, nativeViewConfig, staticViewConfig) {\n    var differences = [];\n    accumulateDifferences(differences, [], {\n      bubblingEventTypes: nativeViewConfig.bubblingEventTypes,\n      directEventTypes: nativeViewConfig.directEventTypes,\n      uiViewClassName: nativeViewConfig.uiViewClassName,\n      validAttributes: nativeViewConfig.validAttributes\n    }, {\n      bubblingEventTypes: staticViewConfig.bubblingEventTypes,\n      directEventTypes: staticViewConfig.directEventTypes,\n      uiViewClassName: staticViewConfig.uiViewClassName,\n      validAttributes: staticViewConfig.validAttributes\n    });\n    if (differences.length === 0) {\n      return {\n        type: 'valid'\n      };\n    }\n    return {\n      type: 'invalid',\n      differences\n    };\n  }\n  function stringifyValidationResult(name, validationResult) {\n    var differences = validationResult.differences;\n    return [`StaticViewConfigValidator: Invalid static view config for '${name}'.`, '', ...differences.map(difference => {\n      var type = difference.type,\n        path = difference.path;\n      switch (type) {\n        case 'missing':\n          return `- '${path.join('.')}' is missing.`;\n        case 'unequal':\n          return `- '${path.join('.')}' is the wrong value.`;\n        case 'unexpected':\n          return `- '${path.join('.')}' is present but not expected to be.`;\n      }\n    }), ''].join('\\n');\n  }\n  function accumulateDifferences(differences, path, nativeObject, staticObject) {\n    for (var nativeKey in nativeObject) {\n      // $FlowFixMe[invalid-computed-prop]\n      var nativeValue = nativeObject[nativeKey];\n      if (!staticObject.hasOwnProperty(nativeKey)) {\n        differences.push({\n          path: [...path, nativeKey],\n          type: 'missing',\n          nativeValue\n        });\n        continue;\n      }\n\n      // $FlowFixMe[invalid-computed-prop]\n      var staticValue = staticObject[nativeKey];\n      var nativeValueIfObject = ifObject(nativeValue);\n      if (nativeValueIfObject != null) {\n        var staticValueIfObject = ifObject(staticValue);\n        if (staticValueIfObject != null) {\n          path.push(nativeKey);\n          accumulateDifferences(differences, path, nativeValueIfObject, staticValueIfObject);\n          path.pop();\n          continue;\n        }\n      }\n      if (nativeValue !== staticValue) {\n        differences.push({\n          path: [...path, nativeKey],\n          type: 'unequal',\n          nativeValue,\n          staticValue\n        });\n      }\n    }\n    for (var staticKey in staticObject) {\n      if (!nativeObject.hasOwnProperty(staticKey) &&\n      // $FlowFixMe[invalid-computed-prop]\n      !(0, _ViewConfigIgnore.isIgnored)(staticObject[staticKey])) {\n        differences.push({\n          path: [...path, staticKey],\n          type: 'unexpected',\n          staticValue: staticObject[staticKey]\n        });\n      }\n    }\n  }\n  function ifObject(value) {\n    return typeof value === 'object' && !Array.isArray(value) ? value : null;\n  }\n});","lineCount":109,"map":[[7,2,12,0],[7,6,12,0,"_ViewConfigIgnore"],[7,23,12,0],[7,26,12,0,"_$$_REQUIRE"],[7,37,12,0],[7,38,12,0,"_dependencyMap"],[7,52,12,0],[8,2,1,0],[9,0,2,0],[10,0,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[18,2,41,0],[19,0,42,0],[20,0,43,0],[21,0,44,0],[22,2,45,7],[22,11,45,16,"validate"],[22,19,45,24,"validate"],[22,20,46,2,"name"],[22,24,46,14],[22,26,47,2,"nativeViewConfig"],[22,42,47,30],[22,44,48,2,"staticViewConfig"],[22,60,48,30],[22,62,49,20],[23,4,50,2],[23,8,50,8,"differences"],[23,19,50,38],[23,22,50,41],[23,24,50,43],[24,4,51,2,"accumulateDifferences"],[24,25,51,23],[24,26,52,4,"differences"],[24,37,52,15],[24,39,53,4],[24,41,53,6],[24,43,54,4],[25,6,55,6,"bubblingEventTypes"],[25,24,55,24],[25,26,55,26,"nativeViewConfig"],[25,42,55,42],[25,43,55,43,"bubblingEventTypes"],[25,61,55,61],[26,6,56,6,"directEventTypes"],[26,22,56,22],[26,24,56,24,"nativeViewConfig"],[26,40,56,40],[26,41,56,41,"directEventTypes"],[26,57,56,57],[27,6,57,6,"uiViewClassName"],[27,21,57,21],[27,23,57,23,"nativeViewConfig"],[27,39,57,39],[27,40,57,40,"uiViewClassName"],[27,55,57,55],[28,6,58,6,"validAttributes"],[28,21,58,21],[28,23,58,23,"nativeViewConfig"],[28,39,58,39],[28,40,58,40,"validAttributes"],[29,4,59,4],[29,5,59,5],[29,7,60,4],[30,6,61,6,"bubblingEventTypes"],[30,24,61,24],[30,26,61,26,"staticViewConfig"],[30,42,61,42],[30,43,61,43,"bubblingEventTypes"],[30,61,61,61],[31,6,62,6,"directEventTypes"],[31,22,62,22],[31,24,62,24,"staticViewConfig"],[31,40,62,40],[31,41,62,41,"directEventTypes"],[31,57,62,57],[32,6,63,6,"uiViewClassName"],[32,21,63,21],[32,23,63,23,"staticViewConfig"],[32,39,63,39],[32,40,63,40,"uiViewClassName"],[32,55,63,55],[33,6,64,6,"validAttributes"],[33,21,64,21],[33,23,64,23,"staticViewConfig"],[33,39,64,39],[33,40,64,40,"validAttributes"],[34,4,65,4],[34,5,66,2],[34,6,66,3],[35,4,68,2],[35,8,68,6,"differences"],[35,19,68,17],[35,20,68,18,"length"],[35,26,68,24],[35,31,68,29],[35,32,68,30],[35,34,68,32],[36,6,69,4],[36,13,69,11],[37,8,69,12,"type"],[37,12,69,16],[37,14,69,18],[38,6,69,25],[38,7,69,26],[39,4,70,2],[40,4,72,2],[40,11,72,9],[41,6,73,4,"type"],[41,10,73,8],[41,12,73,10],[41,21,73,19],[42,6,74,4,"differences"],[43,4,75,2],[43,5,75,3],[44,2,76,0],[45,2,78,7],[45,11,78,16,"stringifyValidationResult"],[45,36,78,41,"stringifyValidationResult"],[45,37,79,2,"name"],[45,41,79,14],[45,43,80,2,"validationResult"],[45,59,80,33],[45,61,81,10],[46,4,82,2],[46,8,82,9,"differences"],[46,19,82,20],[46,22,82,24,"validationResult"],[46,38,82,40],[46,39,82,9,"differences"],[46,50,82,20],[47,4,83,2],[47,11,83,9],[47,12,84,4],[47,74,84,66,"name"],[47,78,84,70],[47,82,84,74],[47,84,85,4],[47,86,85,6],[47,88,86,4],[47,91,86,7,"differences"],[47,102,86,18],[47,103,86,19,"map"],[47,106,86,22],[47,107,86,23,"difference"],[47,117,86,33],[47,121,86,37],[48,6,87,6],[48,10,87,13,"type"],[48,14,87,17],[48,17,87,27,"difference"],[48,27,87,37],[48,28,87,13,"type"],[48,32,87,17],[49,8,87,19,"path"],[49,12,87,23],[49,15,87,27,"difference"],[49,25,87,37],[49,26,87,19,"path"],[49,30,87,23],[50,6,88,6],[50,14,88,14,"type"],[50,18,88,18],[51,8,89,8],[51,13,89,13],[51,22,89,22],[52,10,90,10],[52,17,90,17],[52,23,90,23,"path"],[52,27,90,27],[52,28,90,28,"join"],[52,32,90,32],[52,33,90,33],[52,36,90,36],[52,37,90,37],[52,52,90,52],[53,8,91,8],[53,13,91,13],[53,22,91,22],[54,10,92,10],[54,17,92,17],[54,23,92,23,"path"],[54,27,92,27],[54,28,92,28,"join"],[54,32,92,32],[54,33,92,33],[54,36,92,36],[54,37,92,37],[54,60,92,60],[55,8,93,8],[55,13,93,13],[55,25,93,25],[56,10,94,10],[56,17,94,17],[56,23,94,23,"path"],[56,27,94,27],[56,28,94,28,"join"],[56,32,94,32],[56,33,94,33],[56,36,94,36],[56,37,94,37],[56,75,94,75],[57,6,95,6],[58,4,96,4],[58,5,96,5],[58,6,96,6],[58,8,97,4],[58,10,97,6],[58,11,98,3],[58,12,98,4,"join"],[58,16,98,8],[58,17,98,9],[58,21,98,13],[58,22,98,14],[59,2,99,0],[60,2,101,0],[60,11,101,9,"accumulateDifferences"],[60,32,101,30,"accumulateDifferences"],[60,33,102,2,"differences"],[60,44,102,32],[60,46,103,2,"path"],[60,50,103,21],[60,52,104,2,"nativeObject"],[60,64,104,21],[60,66,105,2,"staticObject"],[60,78,105,21],[60,80,106,8],[61,4,107,2],[61,9,107,7],[61,13,107,13,"nativeKey"],[61,22,107,22],[61,26,107,26,"nativeObject"],[61,38,107,38],[61,40,107,40],[62,6,108,4],[63,6,109,4],[63,10,109,10,"nativeValue"],[63,21,109,21],[63,24,109,24,"nativeObject"],[63,36,109,36],[63,37,109,37,"nativeKey"],[63,46,109,46],[63,47,109,47],[64,6,111,4],[64,10,111,8],[64,11,111,9,"staticObject"],[64,23,111,21],[64,24,111,22,"hasOwnProperty"],[64,38,111,36],[64,39,111,37,"nativeKey"],[64,48,111,46],[64,49,111,47],[64,51,111,49],[65,8,112,6,"differences"],[65,19,112,17],[65,20,112,18,"push"],[65,24,112,22],[65,25,112,23],[66,10,113,8,"path"],[66,14,113,12],[66,16,113,14],[66,17,113,15],[66,20,113,18,"path"],[66,24,113,22],[66,26,113,24,"nativeKey"],[66,35,113,33],[66,36,113,34],[67,10,114,8,"type"],[67,14,114,12],[67,16,114,14],[67,25,114,23],[68,10,115,8,"nativeValue"],[69,8,116,6],[69,9,116,7],[69,10,116,8],[70,8,117,6],[71,6,118,4],[73,6,120,4],[74,6,121,4],[74,10,121,10,"staticValue"],[74,21,121,21],[74,24,121,24,"staticObject"],[74,36,121,36],[74,37,121,37,"nativeKey"],[74,46,121,46],[74,47,121,47],[75,6,123,4],[75,10,123,10,"nativeValueIfObject"],[75,29,123,29],[75,32,123,32,"ifObject"],[75,40,123,40],[75,41,123,41,"nativeValue"],[75,52,123,52],[75,53,123,53],[76,6,124,4],[76,10,124,8,"nativeValueIfObject"],[76,29,124,27],[76,33,124,31],[76,37,124,35],[76,39,124,37],[77,8,125,6],[77,12,125,12,"staticValueIfObject"],[77,31,125,31],[77,34,125,34,"ifObject"],[77,42,125,42],[77,43,125,43,"staticValue"],[77,54,125,54],[77,55,125,55],[78,8,126,6],[78,12,126,10,"staticValueIfObject"],[78,31,126,29],[78,35,126,33],[78,39,126,37],[78,41,126,39],[79,10,127,8,"path"],[79,14,127,12],[79,15,127,13,"push"],[79,19,127,17],[79,20,127,18,"nativeKey"],[79,29,127,27],[79,30,127,28],[80,10,128,8,"accumulateDifferences"],[80,31,128,29],[80,32,129,10,"differences"],[80,43,129,21],[80,45,130,10,"path"],[80,49,130,14],[80,51,131,10,"nativeValueIfObject"],[80,70,131,29],[80,72,132,10,"staticValueIfObject"],[80,91,133,8],[80,92,133,9],[81,10,134,8,"path"],[81,14,134,12],[81,15,134,13,"pop"],[81,18,134,16],[81,19,134,17],[81,20,134,18],[82,10,135,8],[83,8,136,6],[84,6,137,4],[85,6,139,4],[85,10,139,8,"nativeValue"],[85,21,139,19],[85,26,139,24,"staticValue"],[85,37,139,35],[85,39,139,37],[86,8,140,6,"differences"],[86,19,140,17],[86,20,140,18,"push"],[86,24,140,22],[86,25,140,23],[87,10,141,8,"path"],[87,14,141,12],[87,16,141,14],[87,17,141,15],[87,20,141,18,"path"],[87,24,141,22],[87,26,141,24,"nativeKey"],[87,35,141,33],[87,36,141,34],[88,10,142,8,"type"],[88,14,142,12],[88,16,142,14],[88,25,142,23],[89,10,143,8,"nativeValue"],[89,21,143,19],[90,10,144,8,"staticValue"],[91,8,145,6],[91,9,145,7],[91,10,145,8],[92,6,146,4],[93,4,147,2],[94,4,149,2],[94,9,149,7],[94,13,149,13,"staticKey"],[94,22,149,22],[94,26,149,26,"staticObject"],[94,38,149,38],[94,40,149,40],[95,6,150,4],[95,10,151,6],[95,11,151,7,"nativeObject"],[95,23,151,19],[95,24,151,20,"hasOwnProperty"],[95,38,151,34],[95,39,151,35,"staticKey"],[95,48,151,44],[95,49,151,45],[96,6,152,6],[97,6,153,6],[97,7,153,7],[97,11,153,7,"isIgnored"],[97,38,153,16],[97,40,153,17,"staticObject"],[97,52,153,29],[97,53,153,30,"staticKey"],[97,62,153,39],[97,63,153,40],[97,64,153,41],[97,66,154,6],[98,8,155,6,"differences"],[98,19,155,17],[98,20,155,18,"push"],[98,24,155,22],[98,25,155,23],[99,10,156,8,"path"],[99,14,156,12],[99,16,156,14],[99,17,156,15],[99,20,156,18,"path"],[99,24,156,22],[99,26,156,24,"staticKey"],[99,35,156,33],[99,36,156,34],[100,10,157,8,"type"],[100,14,157,12],[100,16,157,14],[100,28,157,26],[101,10,158,8,"staticValue"],[101,21,158,19],[101,23,158,21,"staticObject"],[101,35,158,33],[101,36,158,34,"staticKey"],[101,45,158,43],[102,8,159,6],[102,9,159,7],[102,10,159,8],[103,6,160,4],[104,4,161,2],[105,2,162,0],[106,2,164,0],[106,11,164,9,"ifObject"],[106,19,164,17,"ifObject"],[106,20,164,18,"value"],[106,25,164,30],[106,27,164,40],[107,4,165,2],[107,11,165,9],[107,18,165,16,"value"],[107,23,165,21],[107,28,165,26],[107,36,165,34],[107,40,165,38],[107,41,165,39,"Array"],[107,46,165,44],[107,47,165,45,"isArray"],[107,54,165,52],[107,55,165,53,"value"],[107,60,165,58],[107,61,165,59],[107,64,165,62,"value"],[107,69,165,67],[107,72,165,70],[107,76,165,74],[108,2,166,0],[109,0,166,1],[109,3]],"functionMap":{"names":["<global>","validate","stringifyValidationResult","differences.map$argument_0","accumulateDifferences","ifObject"],"mappings":"AAA;OC4C;CD+B;OEE;uBCQ;KDU;CFG;AIE;CJ6D;AKE;CLE"}},"type":"js/module"}]}