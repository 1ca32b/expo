{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":99,"column":0,"index":2786}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":31,"index":95}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":97},"end":{"line":4,"column":66,"index":163}}],"key":"y9eQQdj9MvCs7akL60igi3d/dsI="}},{"name":"./NavigationStateContext","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":0,"index":164},"end":{"line":5,"column":62,"index":226}}],"key":"TdfjuPPN8UAMLY+O68wyv7/xOLM="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useOptionsGetters;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[1], \"react\"));\n  var _NavigationBuilderContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./NavigationBuilderContext\"));\n  var _NavigationStateContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./NavigationStateContext\"));\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(_NavigationBuilderContext.default),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(_NavigationStateContext.default),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(() => {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (optionsGettersFromChildRef.current.hasOwnProperty(_key)) {\n          var result = optionsGettersFromChildRef.current[_key]?.();\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":75,"map":[[7,2,2,0],[7,6,2,0,"React"],[7,11,2,0],[7,14,2,0,"_interopRequireWildcard"],[7,37,2,0],[7,38,2,0,"_$$_REQUIRE"],[7,49,2,0],[7,50,2,0,"_dependencyMap"],[7,64,2,0],[8,2,4,0],[8,6,4,0,"_NavigationBuilderContext"],[8,31,4,0],[8,34,4,0,"_interopRequireDefault"],[8,56,4,0],[8,57,4,0,"_$$_REQUIRE"],[8,68,4,0],[8,69,4,0,"_dependencyMap"],[8,83,4,0],[9,2,5,0],[9,6,5,0,"_NavigationStateContext"],[9,29,5,0],[9,32,5,0,"_interopRequireDefault"],[9,54,5,0],[9,55,5,0,"_$$_REQUIRE"],[9,66,5,0],[9,67,5,0,"_dependencyMap"],[9,81,5,0],[10,2,5,62],[10,11,5,62,"_getRequireWildcardCache"],[10,36,5,62,"e"],[10,37,5,62],[10,66,5,62,"WeakMap"],[10,73,5,62],[10,92,5,62,"r"],[10,93,5,62],[10,100,5,62,"WeakMap"],[10,107,5,62],[10,111,5,62,"t"],[10,112,5,62],[10,119,5,62,"WeakMap"],[10,126,5,62],[10,138,5,62,"_getRequireWildcardCache"],[10,162,5,62],[10,174,5,62,"_getRequireWildcardCache"],[10,175,5,62,"e"],[10,176,5,62],[10,187,5,62,"e"],[10,188,5,62],[10,191,5,62,"t"],[10,192,5,62],[10,195,5,62,"r"],[10,196,5,62],[10,201,5,62,"e"],[10,202,5,62],[11,2,5,62],[11,11,5,62,"_interopRequireWildcard"],[11,35,5,62,"e"],[11,36,5,62],[11,38,5,62,"r"],[11,39,5,62],[11,48,5,62,"r"],[11,49,5,62],[11,53,5,62,"e"],[11,54,5,62],[11,58,5,62,"e"],[11,59,5,62],[11,60,5,62,"__esModule"],[11,70,5,62],[11,79,5,62,"e"],[11,80,5,62],[11,95,5,62,"e"],[11,96,5,62],[11,119,5,62,"e"],[11,120,5,62],[11,145,5,62,"e"],[11,146,5,62],[11,157,5,62,"default"],[11,164,5,62],[11,166,5,62,"e"],[11,167,5,62],[11,175,5,62,"t"],[11,176,5,62],[11,179,5,62,"_getRequireWildcardCache"],[11,203,5,62],[11,204,5,62,"r"],[11,205,5,62],[11,212,5,62,"t"],[11,213,5,62],[11,217,5,62,"t"],[11,218,5,62],[11,219,5,62,"has"],[11,222,5,62],[11,223,5,62,"e"],[11,224,5,62],[11,234,5,62,"t"],[11,235,5,62],[11,236,5,62,"get"],[11,239,5,62],[11,240,5,62,"e"],[11,241,5,62],[11,248,5,62,"n"],[11,249,5,62],[11,254,5,62,"__proto__"],[11,263,5,62],[11,273,5,62,"a"],[11,274,5,62],[11,277,5,62,"Object"],[11,283,5,62],[11,284,5,62,"defineProperty"],[11,298,5,62],[11,302,5,62,"Object"],[11,308,5,62],[11,309,5,62,"getOwnPropertyDescriptor"],[11,333,5,62],[11,344,5,62,"u"],[11,345,5,62],[11,349,5,62,"e"],[11,350,5,62],[11,370,5,62,"u"],[11,371,5,62],[11,375,5,62,"Object"],[11,381,5,62],[11,382,5,62,"prototype"],[11,391,5,62],[11,392,5,62,"hasOwnProperty"],[11,406,5,62],[11,407,5,62,"call"],[11,411,5,62],[11,412,5,62,"e"],[11,413,5,62],[11,415,5,62,"u"],[11,416,5,62],[11,425,5,62,"i"],[11,426,5,62],[11,429,5,62,"a"],[11,430,5,62],[11,433,5,62,"Object"],[11,439,5,62],[11,440,5,62,"getOwnPropertyDescriptor"],[11,464,5,62],[11,465,5,62,"e"],[11,466,5,62],[11,468,5,62,"u"],[11,469,5,62],[11,479,5,62,"i"],[11,480,5,62],[11,485,5,62,"i"],[11,486,5,62],[11,487,5,62,"get"],[11,490,5,62],[11,494,5,62,"i"],[11,495,5,62],[11,496,5,62,"set"],[11,499,5,62],[11,503,5,62,"Object"],[11,509,5,62],[11,510,5,62,"defineProperty"],[11,524,5,62],[11,525,5,62,"n"],[11,526,5,62],[11,528,5,62,"u"],[11,529,5,62],[11,531,5,62,"i"],[11,532,5,62],[11,536,5,62,"n"],[11,537,5,62],[11,538,5,62,"u"],[11,539,5,62],[11,543,5,62,"e"],[11,544,5,62],[11,545,5,62,"u"],[11,546,5,62],[11,558,5,62,"n"],[11,559,5,62],[11,560,5,62,"default"],[11,567,5,62],[11,570,5,62,"e"],[11,571,5,62],[11,573,5,62,"t"],[11,574,5,62],[11,578,5,62,"t"],[11,579,5,62],[11,580,5,62,"set"],[11,583,5,62],[11,584,5,62,"e"],[11,585,5,62],[11,587,5,62,"n"],[11,588,5,62],[11,591,5,62,"n"],[11,592,5,62],[12,2,14,15],[12,11,14,24,"useOptionsGetters"],[12,28,14,41,"useOptionsGetters"],[12,29,14,41,"_ref"],[12,33,14,41],[12,35,18,12],[13,4,18,12],[13,8,15,2,"key"],[13,11,15,5],[13,14,15,5,"_ref"],[13,18,15,5],[13,19,15,2,"key"],[13,22,15,5],[14,6,16,2,"options"],[14,13,16,9],[14,16,16,9,"_ref"],[14,20,16,9],[14,21,16,2,"options"],[14,28,16,9],[15,6,17,2,"navigation"],[15,16,17,12],[15,19,17,12,"_ref"],[15,23,17,12],[15,24,17,2,"navigation"],[15,34,17,12],[16,4,19,2],[16,8,19,8,"optionsRef"],[16,18,19,18],[16,21,19,21,"React"],[16,26,19,26],[16,27,19,27,"useRef"],[16,33,19,33],[16,34,19,54,"options"],[16,41,19,61],[16,42,19,62],[17,4,20,2],[17,8,20,8,"optionsGettersFromChildRef"],[17,34,20,34],[17,37,20,37,"React"],[17,42,20,42],[17,43,20,43,"useRef"],[17,49,20,49],[17,50,22,4],[17,51,22,5],[17,52,22,6],[17,53,22,7],[18,4,24,2],[18,8,24,2,"_React$useContext"],[18,25,24,2],[18,28,24,30,"React"],[18,33,24,35],[18,34,24,36,"useContext"],[18,44,24,46],[18,45,24,47,"NavigationBuilderContext"],[18,78,24,71],[18,79,24,72],[19,6,24,10,"onOptionsChange"],[19,21,24,25],[19,24,24,25,"_React$useContext"],[19,41,24,25],[19,42,24,10,"onOptionsChange"],[19,57,24,25],[20,4,25,2],[20,8,25,2,"_React$useContext2"],[20,26,25,2],[20,29,25,55,"React"],[20,34,25,60],[20,35,25,61,"useContext"],[20,45,25,71],[20,46,26,4,"NavigationStateContext"],[20,77,27,2],[20,78,27,3],[21,6,25,28,"parentAddOptionsGetter"],[21,28,25,50],[21,31,25,50,"_React$useContext2"],[21,49,25,50],[21,50,25,10,"addOptionsGetter"],[21,66,25,26],[22,4,29,2],[22,8,29,8,"optionsChangeListener"],[22,29,29,29],[22,32,29,32,"React"],[22,37,29,37],[22,38,29,38,"useCallback"],[22,49,29,49],[22,50,29,50],[22,56,29,56],[23,6,30,4],[23,10,30,10,"isFocused"],[23,19,30,19],[23,22,30,22,"navigation"],[23,32,30,32],[23,34,30,34,"isFocused"],[23,43,30,43],[23,44,30,44],[23,45,30,45],[23,49,30,49],[23,53,30,53],[24,6,31,4],[24,10,31,10,"hasChildren"],[24,21,31,21],[24,24,31,24,"Object"],[24,30,31,30],[24,31,31,31,"keys"],[24,35,31,35],[24,36,31,36,"optionsGettersFromChildRef"],[24,62,31,62],[24,63,31,63,"current"],[24,70,31,70],[24,71,31,71],[24,72,31,72,"length"],[24,78,31,78],[25,6,33,4],[25,10,33,8,"isFocused"],[25,19,33,17],[25,23,33,21],[25,24,33,22,"hasChildren"],[25,35,33,33],[25,37,33,35],[26,8,34,6,"onOptionsChange"],[26,23,34,21],[26,24,34,22,"optionsRef"],[26,34,34,32],[26,35,34,33,"current"],[26,42,34,40],[26,46,34,44],[26,47,34,45],[26,48,34,46],[26,49,34,47],[27,6,35,4],[28,4,36,2],[28,5,36,3],[28,7,36,5],[28,8,36,6,"navigation"],[28,18,36,16],[28,20,36,18,"onOptionsChange"],[28,35,36,33],[28,36,36,34],[28,37,36,35],[29,4,38,2,"React"],[29,9,38,7],[29,10,38,8,"useEffect"],[29,19,38,17],[29,20,38,18],[29,26,38,24],[30,6,39,4,"optionsRef"],[30,16,39,14],[30,17,39,15,"current"],[30,24,39,22],[30,27,39,25,"options"],[30,34,39,32],[31,6,40,4,"optionsChangeListener"],[31,27,40,25],[31,28,40,26],[31,29,40,27],[32,6,42,4],[32,13,42,11,"navigation"],[32,23,42,21],[32,25,42,23,"addListener"],[32,36,42,34],[32,37,42,35],[32,44,42,42],[32,46,42,44,"optionsChangeListener"],[32,67,42,65],[32,68,42,66],[33,4,43,2],[33,5,43,3],[33,7,43,5],[33,8,43,6,"navigation"],[33,18,43,16],[33,20,43,18,"options"],[33,27,43,25],[33,29,43,27,"optionsChangeListener"],[33,50,43,48],[33,51,43,49],[33,52,43,50],[34,4,45,2],[34,8,45,8,"getOptionsFromListener"],[34,30,45,30],[34,33,45,33,"React"],[34,38,45,38],[34,39,45,39,"useCallback"],[34,50,45,50],[34,51,45,51],[34,57,45,57],[35,6,46,4],[35,11,46,9],[35,15,46,13,"key"],[35,19,46,16],[35,23,46,20,"optionsGettersFromChildRef"],[35,49,46,46],[35,50,46,47,"current"],[35,57,46,54],[35,59,46,56],[36,8,47,6],[36,12,47,10,"optionsGettersFromChildRef"],[36,38,47,36],[36,39,47,37,"current"],[36,46,47,44],[36,47,47,45,"hasOwnProperty"],[36,61,47,59],[36,62,47,60,"key"],[36,66,47,63],[36,67,47,64],[36,69,47,66],[37,10,48,8],[37,14,48,14,"result"],[37,20,48,20],[37,23,48,23,"optionsGettersFromChildRef"],[37,49,48,49],[37,50,48,50,"current"],[37,57,48,57],[37,58,48,58,"key"],[37,62,48,61],[37,63,48,62],[37,66,48,65],[37,67,48,66],[39,10,50,8],[40,10,51,8],[40,14,51,12,"result"],[40,20,51,18],[40,25,51,23],[40,29,51,27],[40,31,51,29],[41,12,52,10],[41,19,52,17,"result"],[41,25,52,23],[42,10,53,8],[43,8,54,6],[44,6,55,4],[45,6,57,4],[45,13,57,11],[45,17,57,15],[46,4,58,2],[46,5,58,3],[46,7,58,5],[46,9,58,7],[46,10,58,8],[47,4,60,2],[47,8,60,8,"getCurrentOptions"],[47,25,60,25],[47,28,60,28,"React"],[47,33,60,33],[47,34,60,34,"useCallback"],[47,45,60,45],[47,46,60,46],[47,52,60,52],[48,6,61,4],[48,10,61,10,"isFocused"],[48,19,61,19],[48,22,61,22,"navigation"],[48,32,61,32],[48,34,61,34,"isFocused"],[48,43,61,43],[48,44,61,44],[48,45,61,45],[48,49,61,49],[48,53,61,53],[49,6,63,4],[49,10,63,8],[49,11,63,9,"isFocused"],[49,20,63,18],[49,22,63,20],[50,8,64,6],[50,15,64,13],[50,19,64,17],[51,6,65,4],[52,6,67,4],[52,10,67,10,"optionsFromListener"],[52,29,67,29],[52,32,67,32,"getOptionsFromListener"],[52,54,67,54],[52,55,67,55],[52,56,67,56],[53,6,69,4],[53,10,69,8,"optionsFromListener"],[53,29,69,27],[53,34,69,32],[53,38,69,36],[53,40,69,38],[54,8,70,6],[54,15,70,13,"optionsFromListener"],[54,34,70,32],[55,6,71,4],[56,6,73,4],[56,13,73,11,"optionsRef"],[56,23,73,21],[56,24,73,22,"current"],[56,31,73,29],[57,4,74,2],[57,5,74,3],[57,7,74,5],[57,8,74,6,"navigation"],[57,18,74,16],[57,20,74,18,"getOptionsFromListener"],[57,42,74,40],[57,43,74,41],[57,44,74,42],[58,4,76,2,"React"],[58,9,76,7],[58,10,76,8,"useEffect"],[58,19,76,17],[58,20,76,18],[58,26,76,24],[59,6,77,4],[59,13,77,11,"parentAddOptionsGetter"],[59,35,77,33],[59,38,77,36,"key"],[59,41,77,39],[59,43,77,42,"getCurrentOptions"],[59,60,77,59],[59,61,77,60],[60,4,78,2],[60,5,78,3],[60,7,78,5],[60,8,78,6,"getCurrentOptions"],[60,25,78,23],[60,27,78,25,"parentAddOptionsGetter"],[60,49,78,47],[60,51,78,49,"key"],[60,54,78,52],[60,55,78,53],[60,56,78,54],[61,4,80,2],[61,8,80,8,"addOptionsGetter"],[61,24,80,24],[61,27,80,27,"React"],[61,32,80,32],[61,33,80,33,"useCallback"],[61,44,80,44],[61,45,81,4],[61,46,81,5,"key"],[61,49,81,16],[61,51,81,18,"getter"],[61,57,81,57],[61,62,81,62],[62,6,82,6,"optionsGettersFromChildRef"],[62,32,82,32],[62,33,82,33,"current"],[62,40,82,40],[62,41,82,41,"key"],[62,44,82,44],[62,45,82,45],[62,48,82,48,"getter"],[62,54,82,54],[63,6,83,6,"optionsChangeListener"],[63,27,83,27],[63,28,83,28],[63,29,83,29],[64,6,85,6],[64,13,85,13],[64,19,85,19],[65,8,86,8],[66,8,87,8],[66,15,87,15,"optionsGettersFromChildRef"],[66,41,87,41],[66,42,87,42,"current"],[66,49,87,49],[66,50,87,50,"key"],[66,53,87,53],[66,54,87,54],[67,8,88,8,"optionsChangeListener"],[67,29,88,29],[67,30,88,30],[67,31,88,31],[68,6,89,6],[68,7,89,7],[69,4,90,4],[69,5,90,5],[69,7,91,4],[69,8,91,5,"optionsChangeListener"],[69,29,91,26],[69,30,92,2],[69,31,92,3],[70,4,94,2],[70,11,94,9],[71,6,95,4,"addOptionsGetter"],[71,22,95,20],[72,6,96,4,"getCurrentOptions"],[73,4,97,2],[73,5,97,3],[74,2,98,0],[75,0,98,1],[75,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;eCa;kDCe;GDO;kBEE;GFK;mDGE;GHa;8CIE;GJc;kBEE;GFE;IKG;aCI;ODI;KLC;CDQ"}},"type":"js/module"}]}