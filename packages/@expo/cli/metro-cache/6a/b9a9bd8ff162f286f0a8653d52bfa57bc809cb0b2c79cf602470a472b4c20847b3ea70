{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":127,"column":0,"index":3703}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":127,"column":0,"index":3703}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":127,"column":0,"index":3703}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"../NativeAnimatedHelper","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":17,"column":0,"index":406},"end":{"line":17,"column":59,"index":465}}],"key":"1ezhP5tF6Z9mOXoBZysNLcWfZtg="}},{"name":"../nodes/AnimatedProps","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":18,"column":0,"index":466},"end":{"line":18,"column":51,"index":517}}],"key":"b5tA9uVU8NDfoB47WehpgCijIe8="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _NativeAnimatedHelper = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../NativeAnimatedHelper\"));\n  var _AnimatedProps = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"../nodes/AnimatedProps\"));\n  var startNativeAnimationNextId = 1;\n\n  // Important note: start() and stop() will only be called at most once.\n  // Once an animation has been stopped or finished its course, it will\n  // not be reused.\n  var Animation = exports.default = /*#__PURE__*/function () {\n    function Animation() {\n      (0, _classCallCheck2.default)(this, Animation);\n    }\n    return (0, _createClass2.default)(Animation, [{\n      key: \"start\",\n      value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {}\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        if (this._nativeId) {\n          _NativeAnimatedHelper.default.API.stopAnimation(this._nativeId);\n        }\n      }\n    }, {\n      key: \"__getNativeAnimationConfig\",\n      value: function __getNativeAnimationConfig() {\n        // Subclasses that have corresponding animation implementation done in native\n        // should override this method\n        throw new Error('This animation type cannot be offloaded to native');\n      }\n\n      // Helper function for subclasses to make sure onEnd is only called once.\n    }, {\n      key: \"__debouncedOnEnd\",\n      value: function __debouncedOnEnd(result) {\n        var onEnd = this.__onEnd;\n        this.__onEnd = null;\n        onEnd && onEnd(result);\n      }\n    }, {\n      key: \"__findAnimatedPropsNodes\",\n      value: function __findAnimatedPropsNodes(node) {\n        var result = [];\n        if (node instanceof _AnimatedProps.default) {\n          result.push(node);\n          return result;\n        }\n        for (var child of node.__getChildren()) {\n          result.push(...this.__findAnimatedPropsNodes(child));\n        }\n        return result;\n      }\n    }, {\n      key: \"__startNativeAnimation\",\n      value: function __startNativeAnimation(animatedValue) {\n        var startNativeAnimationWaitId = `${startNativeAnimationNextId}:startAnimation`;\n        startNativeAnimationNextId += 1;\n        _NativeAnimatedHelper.default.API.setWaitingForIdentifier(startNativeAnimationWaitId);\n        try {\n          var config = this.__getNativeAnimationConfig();\n          animatedValue.__makeNative(config.platformConfig);\n          this._nativeId = _NativeAnimatedHelper.default.generateNewAnimationId();\n          _NativeAnimatedHelper.default.API.startAnimatingNode(this._nativeId, animatedValue.__getNativeTag(), config, result => {\n            this.__debouncedOnEnd(result);\n\n            // When using natively driven animations, once the animation completes,\n            // we need to ensure that the JS side nodes are synced with the updated\n            // values.\n            var value = result.value;\n            if (value != null) {\n              animatedValue.__onAnimatedValueUpdateReceived(value);\n\n              // Once the JS side node is synced with the updated values, trigger an\n              // update on the AnimatedProps nodes to call any registered callbacks.\n              this.__findAnimatedPropsNodes(animatedValue).forEach(node => node.update());\n            }\n          });\n        } catch (e) {\n          throw e;\n        } finally {\n          _NativeAnimatedHelper.default.API.unsetWaitingForIdentifier(startNativeAnimationWaitId);\n        }\n      }\n    }]);\n  }();\n});","lineCount":104,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_interopRequireDefault"],[14,28,11,13],[14,31,11,13,"_$$_REQUIRE"],[14,42,11,13],[14,43,11,13,"_dependencyMap"],[14,57,11,13],[15,2,11,13,"Object"],[15,8,11,13],[15,9,11,13,"defineProperty"],[15,23,11,13],[15,24,11,13,"exports"],[15,31,11,13],[16,4,11,13,"value"],[16,9,11,13],[17,2,11,13],[18,2,11,13,"exports"],[18,9,11,13],[18,10,11,13,"default"],[18,17,11,13],[19,2,11,13],[19,6,11,13,"_classCallCheck2"],[19,22,11,13],[19,25,11,13,"_interopRequireDefault"],[19,47,11,13],[19,48,11,13,"_$$_REQUIRE"],[19,59,11,13],[19,60,11,13,"_dependencyMap"],[19,74,11,13],[20,2,11,13],[20,6,11,13,"_createClass2"],[20,19,11,13],[20,22,11,13,"_interopRequireDefault"],[20,44,11,13],[20,45,11,13,"_$$_REQUIRE"],[20,56,11,13],[20,57,11,13,"_dependencyMap"],[20,71,11,13],[21,2,17,0],[21,6,17,0,"_NativeAnimatedHelper"],[21,27,17,0],[21,30,17,0,"_interopRequireDefault"],[21,52,17,0],[21,53,17,0,"_$$_REQUIRE"],[21,64,17,0],[21,65,17,0,"_dependencyMap"],[21,79,17,0],[22,2,18,0],[22,6,18,0,"_AnimatedProps"],[22,20,18,0],[22,23,18,0,"_interopRequireDefault"],[22,45,18,0],[22,46,18,0,"_$$_REQUIRE"],[22,57,18,0],[22,58,18,0,"_dependencyMap"],[22,72,18,0],[23,2,31,0],[23,6,31,4,"startNativeAnimationNextId"],[23,32,31,30],[23,35,31,33],[23,36,31,34],[25,2,33,0],[26,2,34,0],[27,2,35,0],[28,2,35,0],[28,6,36,21,"Animation"],[28,15,36,30],[28,18,36,30,"exports"],[28,25,36,30],[28,26,36,30,"default"],[28,33,36,30],[29,4,36,30],[29,13,36,30,"Animation"],[29,23,36,30],[30,6,36,30],[30,10,36,30,"_classCallCheck2"],[30,26,36,30],[30,27,36,30,"default"],[30,34,36,30],[30,42,36,30,"Animation"],[30,51,36,30],[31,4,36,30],[32,4,36,30],[32,15,36,30,"_createClass2"],[32,28,36,30],[32,29,36,30,"default"],[32,36,36,30],[32,38,36,30,"Animation"],[32,47,36,30],[33,6,36,30,"key"],[33,9,36,30],[34,6,36,30,"value"],[34,11,36,30],[34,13,44,2],[34,22,44,2,"start"],[34,27,44,7,"start"],[34,28,45,4,"fromValue"],[34,37,45,21],[34,39,46,4,"onUpdate"],[34,47,46,37],[34,49,47,4,"onEnd"],[34,54,47,23],[34,56,48,4,"previousAnimation"],[34,73,48,33],[34,75,49,4,"animatedValue"],[34,88,49,32],[34,90,50,10],[34,91,50,11],[35,4,50,12],[36,6,50,12,"key"],[36,9,50,12],[37,6,50,12,"value"],[37,11,50,12],[37,13,52,2],[37,22,52,2,"stop"],[37,26,52,6,"stop"],[37,27,52,6],[37,29,52,15],[38,8,53,4],[38,12,53,8],[38,16,53,12],[38,17,53,13,"_nativeId"],[38,26,53,22],[38,28,53,24],[39,10,54,6,"NativeAnimatedHelper"],[39,39,54,26],[39,40,54,27,"API"],[39,43,54,30],[39,44,54,31,"stopAnimation"],[39,57,54,44],[39,58,54,45],[39,62,54,49],[39,63,54,50,"_nativeId"],[39,72,54,59],[39,73,54,60],[40,8,55,4],[41,6,56,2],[42,4,56,3],[43,6,56,3,"key"],[43,9,56,3],[44,6,56,3,"value"],[44,11,56,3],[44,13,58,2],[44,22,58,2,"__getNativeAnimationConfig"],[44,48,58,28,"__getNativeAnimationConfig"],[44,49,58,28],[44,51,58,36],[45,8,59,4],[46,8,60,4],[47,8,61,4],[47,14,61,10],[47,18,61,14,"Error"],[47,23,61,19],[47,24,61,20],[47,75,61,71],[47,76,61,72],[48,6,62,2],[50,6,64,2],[51,4,64,2],[52,6,64,2,"key"],[52,9,64,2],[53,6,64,2,"value"],[53,11,64,2],[53,13,65,2],[53,22,65,2,"__debouncedOnEnd"],[53,38,65,18,"__debouncedOnEnd"],[53,39,65,19,"result"],[53,45,65,36],[53,47,65,44],[54,8,66,4],[54,12,66,10,"onEnd"],[54,17,66,15],[54,20,66,18],[54,24,66,22],[54,25,66,23,"__onEnd"],[54,32,66,30],[55,8,67,4],[55,12,67,8],[55,13,67,9,"__onEnd"],[55,20,67,16],[55,23,67,19],[55,27,67,23],[56,8,68,4,"onEnd"],[56,13,68,9],[56,17,68,13,"onEnd"],[56,22,68,18],[56,23,68,19,"result"],[56,29,68,25],[56,30,68,26],[57,6,69,2],[58,4,69,3],[59,6,69,3,"key"],[59,9,69,3],[60,6,69,3,"value"],[60,11,69,3],[60,13,71,2],[60,22,71,2,"__findAnimatedPropsNodes"],[60,46,71,26,"__findAnimatedPropsNodes"],[60,47,71,27,"node"],[60,51,71,45],[60,53,71,69],[61,8,72,4],[61,12,72,10,"result"],[61,18,72,16],[61,21,72,19],[61,23,72,21],[62,8,74,4],[62,12,74,8,"node"],[62,16,74,12],[62,28,74,24,"AnimatedProps"],[62,50,74,37],[62,52,74,39],[63,10,75,6,"result"],[63,16,75,12],[63,17,75,13,"push"],[63,21,75,17],[63,22,75,18,"node"],[63,26,75,22],[63,27,75,23],[64,10,76,6],[64,17,76,13,"result"],[64,23,76,19],[65,8,77,4],[66,8,79,4],[66,13,79,9],[66,17,79,15,"child"],[66,22,79,20],[66,26,79,24,"node"],[66,30,79,28],[66,31,79,29,"__getChildren"],[66,44,79,42],[66,45,79,43],[66,46,79,44],[66,48,79,46],[67,10,80,6,"result"],[67,16,80,12],[67,17,80,13,"push"],[67,21,80,17],[67,22,80,18],[67,25,80,21],[67,29,80,25],[67,30,80,26,"__findAnimatedPropsNodes"],[67,54,80,50],[67,55,80,51,"child"],[67,60,80,56],[67,61,80,57],[67,62,80,58],[68,8,81,4],[69,8,83,4],[69,15,83,11,"result"],[69,21,83,17],[70,6,84,2],[71,4,84,3],[72,6,84,3,"key"],[72,9,84,3],[73,6,84,3,"value"],[73,11,84,3],[73,13,86,2],[73,22,86,2,"__startNativeAnimation"],[73,44,86,24,"__startNativeAnimation"],[73,45,86,25,"animatedValue"],[73,58,86,53],[73,60,86,61],[74,8,87,4],[74,12,87,10,"startNativeAnimationWaitId"],[74,38,87,36],[74,41,87,39],[74,44,87,42,"startNativeAnimationNextId"],[74,70,87,68],[74,87,87,85],[75,8,88,4,"startNativeAnimationNextId"],[75,34,88,30],[75,38,88,34],[75,39,88,35],[76,8,89,4,"NativeAnimatedHelper"],[76,37,89,24],[76,38,89,25,"API"],[76,41,89,28],[76,42,89,29,"setWaitingForIdentifier"],[76,65,89,52],[76,66,90,6,"startNativeAnimationWaitId"],[76,92,91,4],[76,93,91,5],[77,8,92,4],[77,12,92,8],[78,10,93,6],[78,14,93,12,"config"],[78,20,93,18],[78,23,93,21],[78,27,93,25],[78,28,93,26,"__getNativeAnimationConfig"],[78,54,93,52],[78,55,93,53],[78,56,93,54],[79,10,94,6,"animatedValue"],[79,23,94,19],[79,24,94,20,"__makeNative"],[79,36,94,32],[79,37,94,33,"config"],[79,43,94,39],[79,44,94,40,"platformConfig"],[79,58,94,54],[79,59,94,55],[80,10,95,6],[80,14,95,10],[80,15,95,11,"_nativeId"],[80,24,95,20],[80,27,95,23,"NativeAnimatedHelper"],[80,56,95,43],[80,57,95,44,"generateNewAnimationId"],[80,79,95,66],[80,80,95,67],[80,81,95,68],[81,10,96,6,"NativeAnimatedHelper"],[81,39,96,26],[81,40,96,27,"API"],[81,43,96,30],[81,44,96,31,"startAnimatingNode"],[81,62,96,49],[81,63,97,8],[81,67,97,12],[81,68,97,13,"_nativeId"],[81,77,97,22],[81,79,98,8,"animatedValue"],[81,92,98,21],[81,93,98,22,"__getNativeTag"],[81,107,98,36],[81,108,98,37],[81,109,98,38],[81,111,99,8,"config"],[81,117,99,14],[81,119,100,8,"result"],[81,125,100,14],[81,129,100,18],[82,12,101,10],[82,16,101,14],[82,17,101,15,"__debouncedOnEnd"],[82,33,101,31],[82,34,101,32,"result"],[82,40,101,38],[82,41,101,39],[84,12,103,10],[85,12,104,10],[86,12,105,10],[87,12,106,10],[87,16,106,17,"value"],[87,21,106,22],[87,24,106,26,"result"],[87,30,106,32],[87,31,106,17,"value"],[87,36,106,22],[88,12,107,10],[88,16,107,14,"value"],[88,21,107,19],[88,25,107,23],[88,29,107,27],[88,31,107,29],[89,14,108,12,"animatedValue"],[89,27,108,25],[89,28,108,26,"__onAnimatedValueUpdateReceived"],[89,59,108,57],[89,60,108,58,"value"],[89,65,108,63],[89,66,108,64],[91,14,110,12],[92,14,111,12],[93,14,112,12],[93,18,112,16],[93,19,112,17,"__findAnimatedPropsNodes"],[93,43,112,41],[93,44,112,42,"animatedValue"],[93,57,112,55],[93,58,112,56],[93,59,112,57,"forEach"],[93,66,112,64],[93,67,112,65,"node"],[93,71,112,69],[93,75,113,14,"node"],[93,79,113,18],[93,80,113,19,"update"],[93,86,113,25],[93,87,113,26],[93,88,114,12],[93,89,114,13],[94,12,115,10],[95,10,116,8],[95,11,117,6],[95,12,117,7],[96,8,118,4],[96,9,118,5],[96,10,118,6],[96,17,118,13,"e"],[96,18,118,14],[96,20,118,16],[97,10,119,6],[97,16,119,12,"e"],[97,17,119,13],[98,8,120,4],[98,9,120,5],[98,18,120,14],[99,10,121,6,"NativeAnimatedHelper"],[99,39,121,26],[99,40,121,27,"API"],[99,43,121,30],[99,44,121,31,"unsetWaitingForIdentifier"],[99,69,121,56],[99,70,122,8,"startNativeAnimationWaitId"],[99,96,123,6],[99,97,123,7],[100,8,124,4],[101,6,125,2],[102,4,125,3],[103,2,125,3],[104,0,125,3],[104,3]],"functionMap":{"names":["<global>","Animation","start","stop","__getNativeAnimationConfig","__debouncedOnEnd","__findAnimatedPropsNodes","__startNativeAnimation","NativeAnimatedHelper.API.startAnimatingNode$argument_3","__findAnimatedPropsNodes.forEach$argument_0"],"mappings":"AAA;eCmC;ECQ;YDM;EEE;GFI;EGE;GHI;EIG;GJI;EKE;GLa;EME;QCc;iECY;2BDC;SDG;GNS;CDC"}},"type":"js/module"}]}