{"dependencies":[{"name":"expo-constants","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":41,"index":302},"end":{"line":7,"column":66,"index":327}}],"key":"2TquPknmjb1g5OMuvQ0eTuioYjU="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var __importDefault = this && this.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getStaticUrlFromExpoRouter = void 0;\n  var expo_constants_1 = __importDefault(_$$_REQUIRE(_dependencyMap[0], \"expo-constants\"));\n  var protocolWarningString = `{ plugins: [[\"expo-router\", { origin: \"...<URL>...\" }]] }`;\n  /** `lodash.memoize` */\n  function memoize(fn) {\n    var cache = {};\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var key = JSON.stringify(args);\n      if (cache[key]) {\n        return cache[key];\n      }\n      var result = fn(...args);\n      cache[key] = result;\n      return result;\n    };\n  }\n  function sanitizeUrl(url) {\n    var parsed = new URL(url);\n    // Allow empty protocol, http, and https\n    var validProtocol = !parsed.protocol || parsed.protocol === 'http:' || parsed.protocol === 'https:';\n    if (!validProtocol) {\n      throwOrAlert(`Expo Head: Native origin has invalid protocol \"${parsed.protocol}\" for URL in Expo Config: ${protocolWarningString}.`);\n    }\n    parsed.pathname = '';\n    parsed.search = '';\n    parsed.hash = '';\n    parsed.protocol ??= 'https:';\n    return parsed.toString().replace(/\\/$/, '');\n  }\n  var memoSanitizeUrl = memoize(sanitizeUrl);\n  function getUrlFromConstants() {\n    // This will require a rebuild in bare-workflow to update.\n    var manifest = expo_constants_1.default.expoConfig;\n    var origin = manifest?.extra?.router?.headOrigin ?? manifest?.extra?.router?.origin;\n    if (!origin) {\n      throwOrAlert(`Expo Head: Add the handoff origin to the Expo Config (requires rebuild). Add the Config Plugin ${protocolWarningString}, where \\`origin\\` is the hosted URL.`);\n      // Fallback value that shouldn't be used for real.\n      return 'https://expo.dev';\n    }\n    // Without this, the URL will go to an IP address which is not allowed.\n    if (!origin.match(/^http(s)?:\\/\\//)) {\n      console.warn(`Expo Head: origin \"${origin}\" is missing a \\`https://\\` protocol. ${protocolWarningString}.`);\n    }\n    // Return the development URL last so the user gets all production warnings first.\n    return memoSanitizeUrl(origin);\n  }\n  function throwOrAlert(msg) {\n    // Production apps fatally crash which is often not helpful.\n    if (\n    // @ts-ignore: process is defined\n    process.env.NODE_ENV === 'production') {\n      console.error(msg);\n      alert(msg);\n    } else {\n      throw new Error(msg);\n    }\n  }\n  function getStaticUrlFromExpoRouter(pathname) {\n    // const host = \"https://expo.io\";\n    // Append the URL we'd find in context\n    return getUrlFromConstants() + pathname;\n  }\n  exports.getStaticUrlFromExpoRouter = getStaticUrlFromExpoRouter;\n});","lineCount":78,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[4,6,2,4,"__importDefault"],[4,21,2,19],[4,24,2,23],[4,28,2,27],[4,32,2,31],[4,36,2,35],[4,37,2,36,"__importDefault"],[4,52,2,51],[4,56,2,56],[4,66,2,66,"mod"],[4,69,2,69],[4,71,2,71],[5,4,3,4],[5,11,3,12,"mod"],[5,14,3,15],[5,18,3,19,"mod"],[5,21,3,22],[5,22,3,23,"__esModule"],[5,32,3,33],[5,35,3,37,"mod"],[5,38,3,40],[5,41,3,43],[6,6,3,45],[6,15,3,54],[6,17,3,56,"mod"],[7,4,3,60],[7,5,3,61],[8,2,4,0],[8,3,4,1],[9,2,5,0,"Object"],[9,8,5,6],[9,9,5,7,"defineProperty"],[9,23,5,21],[9,24,5,22,"exports"],[9,31,5,29],[9,33,5,31],[9,45,5,43],[9,47,5,45],[10,4,5,47,"value"],[10,9,5,52],[10,11,5,54],[11,2,5,59],[11,3,5,60],[11,4,5,61],[12,2,6,0,"exports"],[12,9,6,7],[12,10,6,8,"getStaticUrlFromExpoRouter"],[12,36,6,34],[12,39,6,37],[12,44,6,42],[12,45,6,43],[13,2,7,0],[13,6,7,6,"expo_constants_1"],[13,22,7,22],[13,25,7,25,"__importDefault"],[13,40,7,40],[13,41,7,41,"require"],[13,52,7,48],[13,53,7,48,"_dependencyMap"],[13,67,7,48],[13,88,7,65],[13,89,7,66],[13,90,7,67],[14,2,8,0],[14,6,8,6,"protocolWarningString"],[14,27,8,27],[14,30,8,30],[14,89,8,89],[15,2,9,0],[16,2,10,0],[16,11,10,9,"memoize"],[16,18,10,16,"memoize"],[16,19,10,17,"fn"],[16,21,10,19],[16,23,10,21],[17,4,11,4],[17,8,11,10,"cache"],[17,13,11,15],[17,16,11,18],[17,17,11,19],[17,18,11,20],[18,4,12,4],[18,11,12,12],[18,23,12,25],[19,6,12,25],[19,15,12,25,"_len"],[19,19,12,25],[19,22,12,25,"arguments"],[19,31,12,25],[19,32,12,25,"length"],[19,38,12,25],[19,40,12,16,"args"],[19,44,12,20],[19,51,12,20,"Array"],[19,56,12,20],[19,57,12,20,"_len"],[19,61,12,20],[19,64,12,20,"_key"],[19,68,12,20],[19,74,12,20,"_key"],[19,78,12,20],[19,81,12,20,"_len"],[19,85,12,20],[19,87,12,20,"_key"],[19,91,12,20],[20,8,12,16,"args"],[20,12,12,20],[20,13,12,20,"_key"],[20,17,12,20],[20,21,12,20,"arguments"],[20,30,12,20],[20,31,12,20,"_key"],[20,35,12,20],[21,6,12,20],[22,6,13,8],[22,10,13,14,"key"],[22,13,13,17],[22,16,13,20,"JSON"],[22,20,13,24],[22,21,13,25,"stringify"],[22,30,13,34],[22,31,13,35,"args"],[22,35,13,39],[22,36,13,40],[23,6,14,8],[23,10,14,12,"cache"],[23,15,14,17],[23,16,14,18,"key"],[23,19,14,21],[23,20,14,22],[23,22,14,24],[24,8,15,12],[24,15,15,19,"cache"],[24,20,15,24],[24,21,15,25,"key"],[24,24,15,28],[24,25,15,29],[25,6,16,8],[26,6,17,8],[26,10,17,14,"result"],[26,16,17,20],[26,19,17,23,"fn"],[26,21,17,25],[26,22,17,26],[26,25,17,29,"args"],[26,29,17,33],[26,30,17,34],[27,6,18,8,"cache"],[27,11,18,13],[27,12,18,14,"key"],[27,15,18,17],[27,16,18,18],[27,19,18,21,"result"],[27,25,18,27],[28,6,19,8],[28,13,19,15,"result"],[28,19,19,21],[29,4,20,4],[29,5,20,5],[30,2,21,0],[31,2,22,0],[31,11,22,9,"sanitizeUrl"],[31,22,22,20,"sanitizeUrl"],[31,23,22,21,"url"],[31,26,22,24],[31,28,22,26],[32,4,23,4],[32,8,23,10,"parsed"],[32,14,23,16],[32,17,23,19],[32,21,23,23,"URL"],[32,24,23,26],[32,25,23,27,"url"],[32,28,23,30],[32,29,23,31],[33,4,24,4],[34,4,25,4],[34,8,25,10,"validProtocol"],[34,21,25,23],[34,24,25,26],[34,25,25,27,"parsed"],[34,31,25,33],[34,32,25,34,"protocol"],[34,40,25,42],[34,44,25,46,"parsed"],[34,50,25,52],[34,51,25,53,"protocol"],[34,59,25,61],[34,64,25,66],[34,71,25,73],[34,75,25,77,"parsed"],[34,81,25,83],[34,82,25,84,"protocol"],[34,90,25,92],[34,95,25,97],[34,103,25,105],[35,4,26,4],[35,8,26,8],[35,9,26,9,"validProtocol"],[35,22,26,22],[35,24,26,24],[36,6,27,8,"throwOrAlert"],[36,18,27,20],[36,19,27,21],[36,69,27,71,"parsed"],[36,75,27,77],[36,76,27,78,"protocol"],[36,84,27,86],[36,113,27,115,"protocolWarningString"],[36,134,27,136],[36,137,27,139],[36,138,27,140],[37,4,28,4],[38,4,29,4,"parsed"],[38,10,29,10],[38,11,29,11,"pathname"],[38,19,29,19],[38,22,29,22],[38,24,29,24],[39,4,30,4,"parsed"],[39,10,30,10],[39,11,30,11,"search"],[39,17,30,17],[39,20,30,20],[39,22,30,22],[40,4,31,4,"parsed"],[40,10,31,10],[40,11,31,11,"hash"],[40,15,31,15],[40,18,31,18],[40,20,31,20],[41,4,32,4,"parsed"],[41,10,32,10],[41,11,32,11,"protocol"],[41,19,32,19],[41,24,32,24],[41,32,32,32],[42,4,33,4],[42,11,33,11,"parsed"],[42,17,33,17],[42,18,33,18,"toString"],[42,26,33,26],[42,27,33,27],[42,28,33,28],[42,29,33,29,"replace"],[42,36,33,36],[42,37,33,37],[42,42,33,42],[42,44,33,44],[42,46,33,46],[42,47,33,47],[43,2,34,0],[44,2,35,0],[44,6,35,6,"memoSanitizeUrl"],[44,21,35,21],[44,24,35,24,"memoize"],[44,31,35,31],[44,32,35,32,"sanitizeUrl"],[44,43,35,43],[44,44,35,44],[45,2,36,0],[45,11,36,9,"getUrlFromConstants"],[45,30,36,28,"getUrlFromConstants"],[45,31,36,28],[45,33,36,31],[46,4,37,4],[47,4,38,4],[47,8,38,10,"manifest"],[47,16,38,18],[47,19,38,21,"expo_constants_1"],[47,35,38,37],[47,36,38,38,"default"],[47,43,38,45],[47,44,38,46,"expoConfig"],[47,54,38,56],[48,4,39,4],[48,8,39,10,"origin"],[48,14,39,16],[48,17,39,19,"manifest"],[48,25,39,27],[48,27,39,29,"extra"],[48,32,39,34],[48,34,39,36,"router"],[48,40,39,42],[48,42,39,44,"headOrigin"],[48,52,39,54],[48,56,39,58,"manifest"],[48,64,39,66],[48,66,39,68,"extra"],[48,71,39,73],[48,73,39,75,"router"],[48,79,39,81],[48,81,39,83,"origin"],[48,87,39,89],[49,4,40,4],[49,8,40,8],[49,9,40,9,"origin"],[49,15,40,15],[49,17,40,17],[50,6,41,8,"throwOrAlert"],[50,18,41,20],[50,19,41,21],[50,117,41,119,"protocolWarningString"],[50,138,41,140],[50,177,41,179],[50,178,41,180],[51,6,42,8],[52,6,43,8],[52,13,43,15],[52,31,43,33],[53,4,44,4],[54,4,45,4],[55,4,46,4],[55,8,46,8],[55,9,46,9,"origin"],[55,15,46,15],[55,16,46,16,"match"],[55,21,46,21],[55,22,46,22],[55,38,46,38],[55,39,46,39],[55,41,46,41],[56,6,47,8,"console"],[56,13,47,15],[56,14,47,16,"warn"],[56,18,47,20],[56,19,47,21],[56,41,47,43,"origin"],[56,47,47,49],[56,88,47,90,"protocolWarningString"],[56,109,47,111],[56,112,47,114],[56,113,47,115],[57,4,48,4],[58,4,49,4],[59,4,50,4],[59,11,50,11,"memoSanitizeUrl"],[59,26,50,26],[59,27,50,27,"origin"],[59,33,50,33],[59,34,50,34],[60,2,51,0],[61,2,52,0],[61,11,52,9,"throwOrAlert"],[61,23,52,21,"throwOrAlert"],[61,24,52,22,"msg"],[61,27,52,25],[61,29,52,27],[62,4,53,4],[63,4,54,4],[64,4,55,4],[65,4,56,4,"process"],[65,11,56,11],[65,12,56,12,"env"],[65,15,56,15],[65,16,56,16,"NODE_ENV"],[65,24,56,24],[65,29,56,29],[65,41,56,41],[65,43,56,43],[66,6,57,8,"console"],[66,13,57,15],[66,14,57,16,"error"],[66,19,57,21],[66,20,57,22,"msg"],[66,23,57,25],[66,24,57,26],[67,6,58,8,"alert"],[67,11,58,13],[67,12,58,14,"msg"],[67,15,58,17],[67,16,58,18],[68,4,59,4],[68,5,59,5],[68,11,60,9],[69,6,61,8],[69,12,61,14],[69,16,61,18,"Error"],[69,21,61,23],[69,22,61,24,"msg"],[69,25,61,27],[69,26,61,28],[70,4,62,4],[71,2,63,0],[72,2,64,0],[72,11,64,9,"getStaticUrlFromExpoRouter"],[72,37,64,35,"getStaticUrlFromExpoRouter"],[72,38,64,36,"pathname"],[72,46,64,44],[72,48,64,46],[73,4,65,4],[74,4,66,4],[75,4,67,4],[75,11,67,11,"getUrlFromConstants"],[75,30,67,30],[75,31,67,31],[75,32,67,32],[75,35,67,35,"pathname"],[75,43,67,43],[76,2,68,0],[77,2,69,0,"exports"],[77,9,69,7],[77,10,69,8,"getStaticUrlFromExpoRouter"],[77,36,69,34],[77,39,69,37,"getStaticUrlFromExpoRouter"],[77,65,69,63],[78,0,69,64],[78,3]],"functionMap":{"names":["<global>","<anonymous>","memoize","sanitizeUrl","getUrlFromConstants","throwOrAlert","getStaticUrlFromExpoRouter"],"mappings":"AAA;wDCC;CDE;AEM;YDE;KCQ;CFC;AGC;CHY;AIE;CJe;AKC;CLW;AMC;CNI"}},"type":"js/module"}]}