{"dependencies":[{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useEventEmitter;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[0], \"react\"));\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  /**\n   * Hook to manage the event system used by the navigator to notify screens of various events.\n   */\n  function useEventEmitter(listen) {\n    var listenRef = React.useRef(listen);\n    React.useEffect(() => {\n      listenRef.current = listen;\n    });\n    var listeners = React.useRef(Object.create(null));\n    var create = React.useCallback(target => {\n      var removeListener = (type, callback) => {\n        var callbacks = listeners.current[type] ? listeners.current[type][target] : undefined;\n        if (!callbacks) {\n          return;\n        }\n        var index = callbacks.indexOf(callback);\n        if (index > -1) {\n          callbacks.splice(index, 1);\n        }\n      };\n      var addListener = (type, callback) => {\n        listeners.current[type] = listeners.current[type] || {};\n        listeners.current[type][target] = listeners.current[type][target] || [];\n        listeners.current[type][target].push(callback);\n        var removed = false;\n        return () => {\n          // Prevent removing other listeners when unsubscribing same listener multiple times\n          if (!removed) {\n            removed = true;\n            removeListener(type, callback);\n          }\n        };\n      };\n      return {\n        addListener,\n        removeListener\n      };\n    }, []);\n    var emit = React.useCallback(_ref => {\n      var type = _ref.type,\n        data = _ref.data,\n        target = _ref.target,\n        canPreventDefault = _ref.canPreventDefault;\n      var items = listeners.current[type] || {};\n\n      // Copy the current list of callbacks in case they are mutated during execution\n      var callbacks = target !== undefined ? items[target]?.slice() : [].concat(...Object.keys(items).map(t => items[t])).filter((cb, i, self) => self.lastIndexOf(cb) === i);\n      var event = {\n        get type() {\n          return type;\n        }\n      };\n      if (target !== undefined) {\n        Object.defineProperty(event, 'target', {\n          enumerable: true,\n          get() {\n            return target;\n          }\n        });\n      }\n      if (data !== undefined) {\n        Object.defineProperty(event, 'data', {\n          enumerable: true,\n          get() {\n            return data;\n          }\n        });\n      }\n      if (canPreventDefault) {\n        var defaultPrevented = false;\n        Object.defineProperties(event, {\n          defaultPrevented: {\n            enumerable: true,\n            get() {\n              return defaultPrevented;\n            }\n          },\n          preventDefault: {\n            enumerable: true,\n            value() {\n              defaultPrevented = true;\n            }\n          }\n        });\n      }\n      listenRef.current?.(event);\n      callbacks?.forEach(cb => cb(event));\n      return event;\n    }, []);\n    return React.useMemo(() => ({\n      create,\n      emit\n    }), [create, emit]);\n  }\n});","lineCount":103,"map":[[6,2,1,0],[6,6,1,0,"React"],[6,11,1,0],[6,14,1,0,"_interopRequireWildcard"],[6,37,1,0],[6,38,1,0,"_$$_REQUIRE"],[6,49,1,0],[6,50,1,0,"_dependencyMap"],[6,64,1,0],[7,2,1,31],[7,11,1,31,"_getRequireWildcardCache"],[7,36,1,31,"e"],[7,37,1,31],[7,66,1,31,"WeakMap"],[7,73,1,31],[7,92,1,31,"r"],[7,93,1,31],[7,100,1,31,"WeakMap"],[7,107,1,31],[7,111,1,31,"t"],[7,112,1,31],[7,119,1,31,"WeakMap"],[7,126,1,31],[7,138,1,31,"_getRequireWildcardCache"],[7,162,1,31],[7,174,1,31,"_getRequireWildcardCache"],[7,175,1,31,"e"],[7,176,1,31],[7,187,1,31,"e"],[7,188,1,31],[7,191,1,31,"t"],[7,192,1,31],[7,195,1,31,"r"],[7,196,1,31],[7,201,1,31,"e"],[7,202,1,31],[8,2,1,31],[8,11,1,31,"_interopRequireWildcard"],[8,35,1,31,"e"],[8,36,1,31],[8,38,1,31,"r"],[8,39,1,31],[8,48,1,31,"r"],[8,49,1,31],[8,53,1,31,"e"],[8,54,1,31],[8,58,1,31,"e"],[8,59,1,31],[8,60,1,31,"__esModule"],[8,70,1,31],[8,79,1,31,"e"],[8,80,1,31],[8,95,1,31,"e"],[8,96,1,31],[8,119,1,31,"e"],[8,120,1,31],[8,145,1,31,"e"],[8,146,1,31],[8,157,1,31,"default"],[8,164,1,31],[8,166,1,31,"e"],[8,167,1,31],[8,175,1,31,"t"],[8,176,1,31],[8,179,1,31,"_getRequireWildcardCache"],[8,203,1,31],[8,204,1,31,"r"],[8,205,1,31],[8,212,1,31,"t"],[8,213,1,31],[8,217,1,31,"t"],[8,218,1,31],[8,219,1,31,"has"],[8,222,1,31],[8,223,1,31,"e"],[8,224,1,31],[8,234,1,31,"t"],[8,235,1,31],[8,236,1,31,"get"],[8,239,1,31],[8,240,1,31,"e"],[8,241,1,31],[8,248,1,31,"n"],[8,249,1,31],[8,254,1,31,"__proto__"],[8,263,1,31],[8,273,1,31,"a"],[8,274,1,31],[8,277,1,31,"Object"],[8,283,1,31],[8,284,1,31,"defineProperty"],[8,298,1,31],[8,302,1,31,"Object"],[8,308,1,31],[8,309,1,31,"getOwnPropertyDescriptor"],[8,333,1,31],[8,344,1,31,"u"],[8,345,1,31],[8,349,1,31,"e"],[8,350,1,31],[8,370,1,31,"u"],[8,371,1,31],[8,375,1,31,"Object"],[8,381,1,31],[8,382,1,31,"prototype"],[8,391,1,31],[8,392,1,31,"hasOwnProperty"],[8,406,1,31],[8,407,1,31,"call"],[8,411,1,31],[8,412,1,31,"e"],[8,413,1,31],[8,415,1,31,"u"],[8,416,1,31],[8,425,1,31,"i"],[8,426,1,31],[8,429,1,31,"a"],[8,430,1,31],[8,433,1,31,"Object"],[8,439,1,31],[8,440,1,31,"getOwnPropertyDescriptor"],[8,464,1,31],[8,465,1,31,"e"],[8,466,1,31],[8,468,1,31,"u"],[8,469,1,31],[8,479,1,31,"i"],[8,480,1,31],[8,485,1,31,"i"],[8,486,1,31],[8,487,1,31,"get"],[8,490,1,31],[8,494,1,31,"i"],[8,495,1,31],[8,496,1,31,"set"],[8,499,1,31],[8,503,1,31,"Object"],[8,509,1,31],[8,510,1,31,"defineProperty"],[8,524,1,31],[8,525,1,31,"n"],[8,526,1,31],[8,528,1,31,"u"],[8,529,1,31],[8,531,1,31,"i"],[8,532,1,31],[8,536,1,31,"n"],[8,537,1,31],[8,538,1,31,"u"],[8,539,1,31],[8,543,1,31,"e"],[8,544,1,31],[8,545,1,31,"u"],[8,546,1,31],[8,558,1,31,"n"],[8,559,1,31],[8,560,1,31,"default"],[8,567,1,31],[8,570,1,31,"e"],[8,571,1,31],[8,573,1,31,"t"],[8,574,1,31],[8,578,1,31,"t"],[8,579,1,31],[8,580,1,31,"set"],[8,583,1,31],[8,584,1,31,"e"],[8,585,1,31],[8,587,1,31,"n"],[8,588,1,31],[8,591,1,31,"n"],[8,592,1,31],[9,2,12,0],[10,0,13,0],[11,0,14,0],[12,2,15,15],[12,11,15,24,"useEventEmitter"],[12,26,15,39,"useEventEmitter"],[12,27,16,2,"listen"],[12,33,16,27],[12,35,17,29],[13,4,18,2],[13,8,18,8,"listenRef"],[13,17,18,17],[13,20,18,20,"React"],[13,25,18,25],[13,26,18,26,"useRef"],[13,32,18,32],[13,33,18,33,"listen"],[13,39,18,39],[13,40,18,40],[14,4,20,2,"React"],[14,9,20,7],[14,10,20,8,"useEffect"],[14,19,20,17],[14,20,20,18],[14,26,20,24],[15,6,21,4,"listenRef"],[15,15,21,13],[15,16,21,14,"current"],[15,23,21,21],[15,26,21,24,"listen"],[15,32,21,30],[16,4,22,2],[16,5,22,3],[16,6,22,4],[17,4,24,2],[17,8,24,8,"listeners"],[17,17,24,17],[17,20,24,20,"React"],[17,25,24,25],[17,26,24,26,"useRef"],[17,32,24,32],[17,33,25,4,"Object"],[17,39,25,10],[17,40,25,11,"create"],[17,46,25,17],[17,47,25,18],[17,51,25,22],[17,52,26,2],[17,53,26,3],[18,4,28,2],[18,8,28,8,"create"],[18,14,28,14],[18,17,28,17,"React"],[18,22,28,22],[18,23,28,23,"useCallback"],[18,34,28,34],[18,35,28,36,"target"],[18,41,28,50],[18,45,28,55],[19,6,29,4],[19,10,29,10,"removeListener"],[19,24,29,24],[19,27,29,27,"removeListener"],[19,28,29,28,"type"],[19,32,29,40],[19,34,29,42,"callback"],[19,42,29,71],[19,47,29,76],[20,8,30,6],[20,12,30,12,"callbacks"],[20,21,30,21],[20,24,30,24,"listeners"],[20,33,30,33],[20,34,30,34,"current"],[20,41,30,41],[20,42,30,42,"type"],[20,46,30,46],[20,47,30,47],[20,50,31,10,"listeners"],[20,59,31,19],[20,60,31,20,"current"],[20,67,31,27],[20,68,31,28,"type"],[20,72,31,32],[20,73,31,33],[20,74,31,34,"target"],[20,80,31,40],[20,81,31,41],[20,84,32,10,"undefined"],[20,93,32,19],[21,8,34,6],[21,12,34,10],[21,13,34,11,"callbacks"],[21,22,34,20],[21,24,34,22],[22,10,35,8],[23,8,36,6],[24,8,38,6],[24,12,38,12,"index"],[24,17,38,17],[24,20,38,20,"callbacks"],[24,29,38,29],[24,30,38,30,"indexOf"],[24,37,38,37],[24,38,38,38,"callback"],[24,46,38,46],[24,47,38,47],[25,8,40,6],[25,12,40,10,"index"],[25,17,40,15],[25,20,40,18],[25,21,40,19],[25,22,40,20],[25,24,40,22],[26,10,41,8,"callbacks"],[26,19,41,17],[26,20,41,18,"splice"],[26,26,41,24],[26,27,41,25,"index"],[26,32,41,30],[26,34,41,32],[26,35,41,33],[26,36,41,34],[27,8,42,6],[28,6,43,4],[28,7,43,5],[29,6,45,4],[29,10,45,10,"addListener"],[29,21,45,21],[29,24,45,24,"addListener"],[29,25,45,25,"type"],[29,29,45,37],[29,31,45,39,"callback"],[29,39,45,68],[29,44,45,73],[30,8,46,6,"listeners"],[30,17,46,15],[30,18,46,16,"current"],[30,25,46,23],[30,26,46,24,"type"],[30,30,46,28],[30,31,46,29],[30,34,46,32,"listeners"],[30,43,46,41],[30,44,46,42,"current"],[30,51,46,49],[30,52,46,50,"type"],[30,56,46,54],[30,57,46,55],[30,61,46,59],[30,62,46,60],[30,63,46,61],[31,8,47,6,"listeners"],[31,17,47,15],[31,18,47,16,"current"],[31,25,47,23],[31,26,47,24,"type"],[31,30,47,28],[31,31,47,29],[31,32,47,30,"target"],[31,38,47,36],[31,39,47,37],[31,42,47,40,"listeners"],[31,51,47,49],[31,52,47,50,"current"],[31,59,47,57],[31,60,47,58,"type"],[31,64,47,62],[31,65,47,63],[31,66,47,64,"target"],[31,72,47,70],[31,73,47,71],[31,77,47,75],[31,79,47,77],[32,8,48,6,"listeners"],[32,17,48,15],[32,18,48,16,"current"],[32,25,48,23],[32,26,48,24,"type"],[32,30,48,28],[32,31,48,29],[32,32,48,30,"target"],[32,38,48,36],[32,39,48,37],[32,40,48,38,"push"],[32,44,48,42],[32,45,48,43,"callback"],[32,53,48,51],[32,54,48,52],[33,8,50,6],[33,12,50,10,"removed"],[33,19,50,17],[33,22,50,20],[33,27,50,25],[34,8,51,6],[34,15,51,13],[34,21,51,19],[35,10,52,8],[36,10,53,8],[36,14,53,12],[36,15,53,13,"removed"],[36,22,53,20],[36,24,53,22],[37,12,54,10,"removed"],[37,19,54,17],[37,22,54,20],[37,26,54,24],[38,12,55,10,"removeListener"],[38,26,55,24],[38,27,55,25,"type"],[38,31,55,29],[38,33,55,31,"callback"],[38,41,55,39],[38,42,55,40],[39,10,56,8],[40,8,57,6],[40,9,57,7],[41,6,58,4],[41,7,58,5],[42,6,60,4],[42,13,60,11],[43,8,61,6,"addListener"],[43,19,61,17],[44,8,62,6,"removeListener"],[45,6,63,4],[45,7,63,5],[46,4,64,2],[46,5,64,3],[46,7,64,5],[46,9,64,7],[46,10,64,8],[47,4,66,2],[47,8,66,8,"emit"],[47,12,66,12],[47,15,66,15,"React"],[47,20,66,20],[47,21,66,21,"useCallback"],[47,32,66,32],[47,33,67,4,"_ref"],[47,37,67,4],[47,41,77,10],[48,6,77,10],[48,10,68,6,"type"],[48,14,68,10],[48,17,68,10,"_ref"],[48,21,68,10],[48,22,68,6,"type"],[48,26,68,10],[49,8,69,6,"data"],[49,12,69,10],[49,15,69,10,"_ref"],[49,19,69,10],[49,20,69,6,"data"],[49,24,69,10],[50,8,70,6,"target"],[50,14,70,12],[50,17,70,12,"_ref"],[50,21,70,12],[50,22,70,6,"target"],[50,28,70,12],[51,8,71,6,"canPreventDefault"],[51,25,71,23],[51,28,71,23,"_ref"],[51,32,71,23],[51,33,71,6,"canPreventDefault"],[51,50,71,23],[52,6,78,6],[52,10,78,12,"items"],[52,15,78,17],[52,18,78,20,"listeners"],[52,27,78,29],[52,28,78,30,"current"],[52,35,78,37],[52,36,78,38,"type"],[52,40,78,42],[52,41,78,43],[52,45,78,47],[52,46,78,48],[52,47,78,49],[54,6,80,6],[55,6,81,6],[55,10,81,12,"callbacks"],[55,19,81,21],[55,22,82,8,"target"],[55,28,82,14],[55,33,82,19,"undefined"],[55,42,82,28],[55,45,83,12,"items"],[55,50,83,17],[55,51,83,18,"target"],[55,57,83,24],[55,58,83,25],[55,60,83,27,"slice"],[55,65,83,32],[55,66,83,33],[55,67,83,34],[55,70,84,13],[55,72,84,15],[55,73,85,15,"concat"],[55,79,85,21],[55,80,85,22],[55,83,85,25,"Object"],[55,89,85,31],[55,90,85,32,"keys"],[55,94,85,36],[55,95,85,37,"items"],[55,100,85,42],[55,101,85,43],[55,102,85,44,"map"],[55,105,85,47],[55,106,85,49,"t"],[55,107,85,50],[55,111,85,55,"items"],[55,116,85,60],[55,117,85,61,"t"],[55,118,85,62],[55,119,85,63],[55,120,85,64],[55,121,85,65],[55,122,86,15,"filter"],[55,128,86,21],[55,129,86,22],[55,130,86,23,"cb"],[55,132,86,25],[55,134,86,27,"i"],[55,135,86,28],[55,137,86,30,"self"],[55,141,86,34],[55,146,86,39,"self"],[55,150,86,43],[55,151,86,44,"lastIndexOf"],[55,162,86,55],[55,163,86,56,"cb"],[55,165,86,58],[55,166,86,59],[55,171,86,64,"i"],[55,172,86,65],[55,173,86,66],[56,6,88,6],[56,10,88,12,"event"],[56,15,88,42],[56,18,88,45],[57,8,89,8],[57,12,89,12,"type"],[57,16,89,16,"type"],[57,17,89,16],[57,19,89,19],[58,10,90,10],[58,17,90,17,"type"],[58,21,90,21],[59,8,91,8],[60,6,92,6],[60,7,92,7],[61,6,94,6],[61,10,94,10,"target"],[61,16,94,16],[61,21,94,21,"undefined"],[61,30,94,30],[61,32,94,32],[62,8,95,8,"Object"],[62,14,95,14],[62,15,95,15,"defineProperty"],[62,29,95,29],[62,30,95,30,"event"],[62,35,95,35],[62,37,95,37],[62,45,95,45],[62,47,95,47],[63,10,96,10,"enumerable"],[63,20,96,20],[63,22,96,22],[63,26,96,26],[64,10,97,10,"get"],[64,13,97,13,"get"],[64,14,97,13],[64,16,97,16],[65,12,98,12],[65,19,98,19,"target"],[65,25,98,25],[66,10,99,10],[67,8,100,8],[67,9,100,9],[67,10,100,10],[68,6,101,6],[69,6,103,6],[69,10,103,10,"data"],[69,14,103,14],[69,19,103,19,"undefined"],[69,28,103,28],[69,30,103,30],[70,8,104,8,"Object"],[70,14,104,14],[70,15,104,15,"defineProperty"],[70,29,104,29],[70,30,104,30,"event"],[70,35,104,35],[70,37,104,37],[70,43,104,43],[70,45,104,45],[71,10,105,10,"enumerable"],[71,20,105,20],[71,22,105,22],[71,26,105,26],[72,10,106,10,"get"],[72,13,106,13,"get"],[72,14,106,13],[72,16,106,16],[73,12,107,12],[73,19,107,19,"data"],[73,23,107,23],[74,10,108,10],[75,8,109,8],[75,9,109,9],[75,10,109,10],[76,6,110,6],[77,6,112,6],[77,10,112,10,"canPreventDefault"],[77,27,112,27],[77,29,112,29],[78,8,113,8],[78,12,113,12,"defaultPrevented"],[78,28,113,28],[78,31,113,31],[78,36,113,36],[79,8,115,8,"Object"],[79,14,115,14],[79,15,115,15,"defineProperties"],[79,31,115,31],[79,32,115,32,"event"],[79,37,115,37],[79,39,115,39],[80,10,116,10,"defaultPrevented"],[80,26,116,26],[80,28,116,28],[81,12,117,12,"enumerable"],[81,22,117,22],[81,24,117,24],[81,28,117,28],[82,12,118,12,"get"],[82,15,118,15,"get"],[82,16,118,15],[82,18,118,18],[83,14,119,14],[83,21,119,21,"defaultPrevented"],[83,37,119,37],[84,12,120,12],[85,10,121,10],[85,11,121,11],[86,10,122,10,"preventDefault"],[86,24,122,24],[86,26,122,26],[87,12,123,12,"enumerable"],[87,22,123,22],[87,24,123,24],[87,28,123,28],[88,12,124,12,"value"],[88,17,124,17,"value"],[88,18,124,17],[88,20,124,20],[89,14,125,14,"defaultPrevented"],[89,30,125,30],[89,33,125,33],[89,37,125,37],[90,12,126,12],[91,10,127,10],[92,8,128,8],[92,9,128,9],[92,10,128,10],[93,6,129,6],[94,6,131,6,"listenRef"],[94,15,131,15],[94,16,131,16,"current"],[94,23,131,23],[94,26,131,26,"event"],[94,31,131,31],[94,32,131,32],[95,6,133,6,"callbacks"],[95,15,133,15],[95,17,133,17,"forEach"],[95,24,133,24],[95,25,133,26,"cb"],[95,27,133,28],[95,31,133,33,"cb"],[95,33,133,35],[95,34,133,36,"event"],[95,39,133,41],[95,40,133,42],[95,41,133,43],[96,6,135,6],[96,13,135,13,"event"],[96,18,135,18],[97,4,136,4],[97,5,136,5],[97,7,137,4],[97,9,138,2],[97,10,138,3],[98,4,140,2],[98,11,140,9,"React"],[98,16,140,14],[98,17,140,15,"useMemo"],[98,24,140,22],[98,25,140,23],[98,32,140,30],[99,6,140,32,"create"],[99,12,140,38],[100,6,140,40,"emit"],[101,4,140,45],[101,5,140,46],[101,6,140,47],[101,8,140,49],[101,9,140,50,"create"],[101,15,140,56],[101,17,140,58,"emit"],[101,21,140,62],[101,22,140,63],[101,23,140,64],[102,2,141,0],[103,0,141,1],[103,3]],"functionMap":{"names":["<global>","useEventEmitter","React.useEffect$argument_0","create","removeListener","addListener","<anonymous>","emit","Object.keys.map$argument_0","concat.filter$argument_0","event.get__type","Object.defineProperty$argument_2.get","Object.defineProperties$argument_1.defaultPrevented.get","Object.defineProperties$argument_1.preventDefault.value","callbacks.forEach$argument_0","React.useMemo$argument_0"],"mappings":"AAA;eCc;kBCK;GDE;mCEM;2BCC;KDc;wBEE;aCM;ODM;KFC;GFM;IMG;gDCkB,eD;sBEC,2CF;QGG;SHE;UIM;WJE;UIO;WJE;YKU;aLE;YMI;aNE;yBOO,iBP;KNG;uBcI,wBd;CDC"}},"type":"js/module"}]}