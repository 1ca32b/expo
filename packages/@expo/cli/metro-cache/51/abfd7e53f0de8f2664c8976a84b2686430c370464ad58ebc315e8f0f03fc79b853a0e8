{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":144,"column":0,"index":4319}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../NativeModules/specs/NativeSourceCode","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":16,"column":0,"index":411},"end":{"line":16,"column":65,"index":476}}],"key":"oSckPPX9N50XzeifVrT6ImD6My8="}},{"name":"./AssetSourceResolver","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":18,"column":28,"index":506},"end":{"line":18,"column":60,"index":538}}],"key":"q9gi06LUmPE6uKGrct0tmFibDZ8="}},{"name":"./AssetUtils","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":19,"column":20,"index":560},"end":{"line":19,"column":43,"index":583}}],"key":"eGeiw2qtJreU5h3MnCJ0K/9VpcU="}},{"name":"@react-native/assets-registry/registry","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":20,"column":22,"index":607},"end":{"line":20,"column":71,"index":656}}],"key":"eCJQAbWl2vdqtA5XE7uCtBnZ6Rk="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  var _NativeSourceCode = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../NativeModules/specs/NativeSourceCode\"));\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   * \n   */\n\n  // Utilities for resolving an asset into a `source` for e.g. `Image`\n\n  var AssetSourceResolver = _$$_REQUIRE(_dependencyMap[2], \"./AssetSourceResolver\");\n  var _require = _$$_REQUIRE(_dependencyMap[3], \"./AssetUtils\"),\n    pickScale = _require.pickScale;\n  var AssetRegistry = _$$_REQUIRE(_dependencyMap[4], \"@react-native/assets-registry/registry\");\n  var _customSourceTransformers = [];\n  var _serverURL;\n  var _scriptURL;\n  var _sourceCodeScriptURL;\n  function getSourceCodeScriptURL() {\n    if (_sourceCodeScriptURL != null) {\n      return _sourceCodeScriptURL;\n    }\n    _sourceCodeScriptURL = _NativeSourceCode.default.getConstants().scriptURL;\n    return _sourceCodeScriptURL;\n  }\n  function getDevServerURL() {\n    if (_serverURL === undefined) {\n      var sourceCodeScriptURL = getSourceCodeScriptURL();\n      var match = sourceCodeScriptURL?.match(/^https?:\\/\\/.*?\\//);\n      if (match) {\n        // jsBundle was loaded from network\n        _serverURL = match[0];\n      } else {\n        // jsBundle was loaded from file\n        _serverURL = null;\n      }\n    }\n    return _serverURL;\n  }\n  function _coerceLocalScriptURL(scriptURL) {\n    var normalizedScriptURL = scriptURL;\n    if (normalizedScriptURL != null) {\n      if (normalizedScriptURL.startsWith('assets://')) {\n        // android: running from within assets, no offline path to use\n        return null;\n      }\n      normalizedScriptURL = normalizedScriptURL.substring(0, normalizedScriptURL.lastIndexOf('/') + 1);\n      if (!normalizedScriptURL.includes('://')) {\n        // Add file protocol in case we have an absolute file path and not a URL.\n        // This shouldn't really be necessary. scriptURL should be a URL.\n        normalizedScriptURL = 'file://' + normalizedScriptURL;\n      }\n    }\n    return normalizedScriptURL;\n  }\n  function getScriptURL() {\n    if (_scriptURL === undefined) {\n      _scriptURL = _coerceLocalScriptURL(getSourceCodeScriptURL());\n    }\n    return _scriptURL;\n  }\n\n  /**\n   * `transformer` can optionally be used to apply a custom transformation when\n   * resolving an asset source. This methods overrides all other custom transformers\n   * that may have been previously registered.\n   */\n  function setCustomSourceTransformer(transformer) {\n    _customSourceTransformers = [transformer];\n  }\n\n  /**\n   * Adds a `transformer` into the chain of custom source transformers, which will\n   * be applied in the order registered, until one returns a non-null value.\n   */\n  function addCustomSourceTransformer(transformer) {\n    _customSourceTransformers.push(transformer);\n  }\n\n  /**\n   * `source` is either a number (opaque type returned by require('./foo.png'))\n   * or an `ImageSource` like { uri: '<http location || file path>' }\n   */\n  function resolveAssetSource(source) {\n    if (source == null || typeof source === 'object') {\n      // $FlowFixMe[incompatible-exact] `source` doesn't exactly match `ResolvedAssetSource`\n      // $FlowFixMe[incompatible-return] `source` doesn't exactly match `ResolvedAssetSource`\n      return source;\n    }\n    var asset = AssetRegistry.getAssetByID(source);\n    if (!asset) {\n      return null;\n    }\n    var resolver = new AssetSourceResolver(getDevServerURL(), getScriptURL(), asset);\n\n    // Apply (chained) custom source transformers, if any\n    if (_customSourceTransformers) {\n      for (var customSourceTransformer of _customSourceTransformers) {\n        var transformedSource = customSourceTransformer(resolver);\n        if (transformedSource != null) {\n          return transformedSource;\n        }\n      }\n    }\n    return resolver.defaultAsset();\n  }\n  resolveAssetSource.pickScale = pickScale;\n  resolveAssetSource.setCustomSourceTransformer = setCustomSourceTransformer;\n  resolveAssetSource.addCustomSourceTransformer = addCustomSourceTransformer;\n  module.exports = resolveAssetSource;\n});","lineCount":116,"map":[[3,2,16,0],[3,6,16,0,"_NativeSourceCode"],[3,23,16,0],[3,26,16,0,"_interopRequireDefault"],[3,48,16,0],[3,49,16,0,"_$$_REQUIRE"],[3,60,16,0],[3,61,16,0,"_dependencyMap"],[3,75,16,0],[4,2,1,0],[5,0,2,0],[6,0,3,0],[7,0,4,0],[8,0,5,0],[9,0,6,0],[10,0,7,0],[11,0,8,0],[12,0,9,0],[14,2,11,0],[16,2,18,0],[16,6,18,6,"AssetSourceResolver"],[16,25,18,25],[16,28,18,28,"require"],[16,39,18,35],[16,40,18,35,"_dependencyMap"],[16,54,18,35],[16,82,18,59],[16,83,18,60],[17,2,19,0],[17,6,19,0,"_require"],[17,14,19,0],[17,17,19,20,"require"],[17,28,19,27],[17,29,19,27,"_dependencyMap"],[17,43,19,27],[17,62,19,42],[17,63,19,43],[18,4,19,7,"pickScale"],[18,13,19,16],[18,16,19,16,"_require"],[18,24,19,16],[18,25,19,7,"pickScale"],[18,34,19,16],[19,2,20,0],[19,6,20,6,"AssetRegistry"],[19,19,20,19],[19,22,20,22,"require"],[19,33,20,29],[19,34,20,29,"_dependencyMap"],[19,48,20,29],[19,93,20,70],[19,94,20,71],[20,2,26,0],[20,6,26,4,"_customSourceTransformers"],[20,31,26,61],[20,34,26,64],[20,36,26,66],[21,2,27,0],[21,6,27,4,"_serverURL"],[21,16,27,23],[22,2,28,0],[22,6,28,4,"_scriptURL"],[22,16,28,23],[23,2,29,0],[23,6,29,4,"_sourceCodeScriptURL"],[23,26,29,33],[24,2,31,0],[24,11,31,9,"getSourceCodeScriptURL"],[24,33,31,31,"getSourceCodeScriptURL"],[24,34,31,31],[24,36,31,43],[25,4,32,2],[25,8,32,6,"_sourceCodeScriptURL"],[25,28,32,26],[25,32,32,30],[25,36,32,34],[25,38,32,36],[26,6,33,4],[26,13,33,11,"_sourceCodeScriptURL"],[26,33,33,31],[27,4,34,2],[28,4,36,2,"_sourceCodeScriptURL"],[28,24,36,22],[28,27,36,25,"SourceCode"],[28,52,36,35],[28,53,36,36,"getConstants"],[28,65,36,48],[28,66,36,49],[28,67,36,50],[28,68,36,51,"scriptURL"],[28,77,36,60],[29,4,37,2],[29,11,37,9,"_sourceCodeScriptURL"],[29,31,37,29],[30,2,38,0],[31,2,40,0],[31,11,40,9,"getDevServerURL"],[31,26,40,24,"getDevServerURL"],[31,27,40,24],[31,29,40,36],[32,4,41,2],[32,8,41,6,"_serverURL"],[32,18,41,16],[32,23,41,21,"undefined"],[32,32,41,30],[32,34,41,32],[33,6,42,4],[33,10,42,10,"sourceCodeScriptURL"],[33,29,42,29],[33,32,42,32,"getSourceCodeScriptURL"],[33,54,42,54],[33,55,42,55],[33,56,42,56],[34,6,43,4],[34,10,43,10,"match"],[34,15,43,15],[34,18,43,18,"sourceCodeScriptURL"],[34,37,43,37],[34,39,43,39,"match"],[34,44,43,44],[34,45,43,45],[34,64,43,64],[34,65,43,65],[35,6,44,4],[35,10,44,8,"match"],[35,15,44,13],[35,17,44,15],[36,8,45,6],[37,8,46,6,"_serverURL"],[37,18,46,16],[37,21,46,19,"match"],[37,26,46,24],[37,27,46,25],[37,28,46,26],[37,29,46,27],[38,6,47,4],[38,7,47,5],[38,13,47,11],[39,8,48,6],[40,8,49,6,"_serverURL"],[40,18,49,16],[40,21,49,19],[40,25,49,23],[41,6,50,4],[42,4,51,2],[43,4,52,2],[43,11,52,9,"_serverURL"],[43,21,52,19],[44,2,53,0],[45,2,55,0],[45,11,55,9,"_coerceLocalScriptURL"],[45,32,55,30,"_coerceLocalScriptURL"],[45,33,55,31,"scriptURL"],[45,42,55,49],[45,44,55,60],[46,4,56,2],[46,8,56,6,"normalizedScriptURL"],[46,27,56,25],[46,30,56,28,"scriptURL"],[46,39,56,37],[47,4,58,2],[47,8,58,6,"normalizedScriptURL"],[47,27,58,25],[47,31,58,29],[47,35,58,33],[47,37,58,35],[48,6,59,4],[48,10,59,8,"normalizedScriptURL"],[48,29,59,27],[48,30,59,28,"startsWith"],[48,40,59,38],[48,41,59,39],[48,52,59,50],[48,53,59,51],[48,55,59,53],[49,8,60,6],[50,8,61,6],[50,15,61,13],[50,19,61,17],[51,6,62,4],[52,6,63,4,"normalizedScriptURL"],[52,25,63,23],[52,28,63,26,"normalizedScriptURL"],[52,47,63,45],[52,48,63,46,"substring"],[52,57,63,55],[52,58,64,6],[52,59,64,7],[52,61,65,6,"normalizedScriptURL"],[52,80,65,25],[52,81,65,26,"lastIndexOf"],[52,92,65,37],[52,93,65,38],[52,96,65,41],[52,97,65,42],[52,100,65,45],[52,101,66,4],[52,102,66,5],[53,6,67,4],[53,10,67,8],[53,11,67,9,"normalizedScriptURL"],[53,30,67,28],[53,31,67,29,"includes"],[53,39,67,37],[53,40,67,38],[53,45,67,43],[53,46,67,44],[53,48,67,46],[54,8,68,6],[55,8,69,6],[56,8,70,6,"normalizedScriptURL"],[56,27,70,25],[56,30,70,28],[56,39,70,37],[56,42,70,40,"normalizedScriptURL"],[56,61,70,59],[57,6,71,4],[58,4,72,2],[59,4,74,2],[59,11,74,9,"normalizedScriptURL"],[59,30,74,28],[60,2,75,0],[61,2,77,0],[61,11,77,9,"getScriptURL"],[61,23,77,21,"getScriptURL"],[61,24,77,21],[61,26,77,33],[62,4,78,2],[62,8,78,6,"_scriptURL"],[62,18,78,16],[62,23,78,21,"undefined"],[62,32,78,30],[62,34,78,32],[63,6,79,4,"_scriptURL"],[63,16,79,14],[63,19,79,17,"_coerceLocalScriptURL"],[63,40,79,38],[63,41,79,39,"getSourceCodeScriptURL"],[63,63,79,61],[63,64,79,62],[63,65,79,63],[63,66,79,64],[64,4,80,2],[65,4,81,2],[65,11,81,9,"_scriptURL"],[65,21,81,19],[66,2,82,0],[68,2,84,0],[69,0,85,0],[70,0,86,0],[71,0,87,0],[72,0,88,0],[73,2,89,0],[73,11,89,9,"setCustomSourceTransformer"],[73,37,89,35,"setCustomSourceTransformer"],[73,38,90,2,"transformer"],[73,49,90,38],[73,51,91,8],[74,4,92,2,"_customSourceTransformers"],[74,29,92,27],[74,32,92,30],[74,33,92,31,"transformer"],[74,44,92,42],[74,45,92,43],[75,2,93,0],[77,2,95,0],[78,0,96,0],[79,0,97,0],[80,0,98,0],[81,2,99,0],[81,11,99,9,"addCustomSourceTransformer"],[81,37,99,35,"addCustomSourceTransformer"],[81,38,100,2,"transformer"],[81,49,100,38],[81,51,101,8],[82,4,102,2,"_customSourceTransformers"],[82,29,102,27],[82,30,102,28,"push"],[82,34,102,32],[82,35,102,33,"transformer"],[82,46,102,44],[82,47,102,45],[83,2,103,0],[85,2,105,0],[86,0,106,0],[87,0,107,0],[88,0,108,0],[89,2,109,0],[89,11,109,9,"resolveAssetSource"],[89,29,109,27,"resolveAssetSource"],[89,30,109,28,"source"],[89,36,109,48],[89,38,109,72],[90,4,110,2],[90,8,110,6,"source"],[90,14,110,12],[90,18,110,16],[90,22,110,20],[90,26,110,24],[90,33,110,31,"source"],[90,39,110,37],[90,44,110,42],[90,52,110,50],[90,54,110,52],[91,6,111,4],[92,6,112,4],[93,6,113,4],[93,13,113,11,"source"],[93,19,113,17],[94,4,114,2],[95,4,116,2],[95,8,116,8,"asset"],[95,13,116,13],[95,16,116,16,"AssetRegistry"],[95,29,116,29],[95,30,116,30,"getAssetByID"],[95,42,116,42],[95,43,116,43,"source"],[95,49,116,49],[95,50,116,50],[96,4,117,2],[96,8,117,6],[96,9,117,7,"asset"],[96,14,117,12],[96,16,117,14],[97,6,118,4],[97,13,118,11],[97,17,118,15],[98,4,119,2],[99,4,121,2],[99,8,121,8,"resolver"],[99,16,121,16],[99,19,121,19],[99,23,121,23,"AssetSourceResolver"],[99,42,121,42],[99,43,122,4,"getDevServerURL"],[99,58,122,19],[99,59,122,20],[99,60,122,21],[99,62,123,4,"getScriptURL"],[99,74,123,16],[99,75,123,17],[99,76,123,18],[99,78,124,4,"asset"],[99,83,125,2],[99,84,125,3],[101,4,127,2],[102,4,128,2],[102,8,128,6,"_customSourceTransformers"],[102,33,128,31],[102,35,128,33],[103,6,129,4],[103,11,129,9],[103,15,129,15,"customSourceTransformer"],[103,38,129,38],[103,42,129,42,"_customSourceTransformers"],[103,67,129,67],[103,69,129,69],[104,8,130,6],[104,12,130,12,"transformedSource"],[104,29,130,29],[104,32,130,32,"customSourceTransformer"],[104,55,130,55],[104,56,130,56,"resolver"],[104,64,130,64],[104,65,130,65],[105,8,131,6],[105,12,131,10,"transformedSource"],[105,29,131,27],[105,33,131,31],[105,37,131,35],[105,39,131,37],[106,10,132,8],[106,17,132,15,"transformedSource"],[106,34,132,32],[107,8,133,6],[108,6,134,4],[109,4,135,2],[110,4,137,2],[110,11,137,9,"resolver"],[110,19,137,17],[110,20,137,18,"defaultAsset"],[110,32,137,30],[110,33,137,31],[110,34,137,32],[111,2,138,0],[112,2,140,0,"resolveAssetSource"],[112,20,140,18],[112,21,140,19,"pickScale"],[112,30,140,28],[112,33,140,31,"pickScale"],[112,42,140,40],[113,2,141,0,"resolveAssetSource"],[113,20,141,18],[113,21,141,19,"setCustomSourceTransformer"],[113,47,141,45],[113,50,141,48,"setCustomSourceTransformer"],[113,76,141,74],[114,2,142,0,"resolveAssetSource"],[114,20,142,18],[114,21,142,19,"addCustomSourceTransformer"],[114,47,142,45],[114,50,142,48,"addCustomSourceTransformer"],[114,76,142,74],[115,2,143,0,"module"],[115,8,143,6],[115,9,143,7,"exports"],[115,16,143,14],[115,19,143,17,"resolveAssetSource"],[115,37,143,35],[116,0,143,36],[116,3]],"functionMap":{"names":["<global>","getSourceCodeScriptURL","getDevServerURL","_coerceLocalScriptURL","getScriptURL","setCustomSourceTransformer","addCustomSourceTransformer","resolveAssetSource"],"mappings":"AAA;AC8B;CDO;AEE;CFa;AGE;CHoB;AIE;CJK;AKO;CLI;AMM;CNI;AOM;CP6B"}},"type":"js/module"}]}