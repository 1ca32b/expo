{"version":3,"file":"ccache-plugin.js","names":["_configPlugins","data","require","withCcachePodfileProperties","config","withPodfileProperties","experiments","ccacheIos","modResults","exports"],"sources":["../../../src/plugins/ios/ccache-plugin.ts"],"sourcesContent":["import { ConfigPlugin, withPodfileProperties } from '@expo/config-plugins';\n\n/**\n * Sets the `ccache` property in the Podfile.properties.json file to enable caching of subsequent iOS builds.\n * Requires additional setup and doesn't always work https://reactnative.dev/docs/build-speed#xcode-specific-setup\n * I was able to get it working with `brew install ccache`.\n * After `experiments.ccacheIos` is enabled, prebuild and pod install must be run again.\n * Running `cache -s` prints the cache statistics. Run this after a successful iOS build to see the progress.\n * The ccache can be cleared with `ccache --clear` for sanity.\n * Ref PR (first available react-native@0.74.0): https://github.com/facebook/react-native/commit/e85d51c6f161c709706044c5955ac5397e746fa1\n */\nexport const withCcachePodfileProperties: ConfigPlugin = (config) => {\n  return withPodfileProperties(config, (config) => {\n    // @ts-expect-error: not available on ExpoConfig yet.\n    if (config.experiments?.ccacheIos) {\n      config.modResults['ccache'] = 'true';\n    } else {\n      delete config.modResults['ccache'];\n    }\n    return config;\n  });\n};\n"],"mappings":";;;;;;AAAA,SAAAA,eAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,cAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAME,2BAAyC,GAAIC,MAAM,IAAK;EACnE,OAAO,IAAAC,sCAAqB,EAACD,MAAM,EAAGA,MAAM,IAAK;IAC/C;IACA,IAAIA,MAAM,CAACE,WAAW,EAAEC,SAAS,EAAE;MACjCH,MAAM,CAACI,UAAU,CAAC,QAAQ,CAAC,GAAG,MAAM;IACtC,CAAC,MAAM;MACL,OAAOJ,MAAM,CAACI,UAAU,CAAC,QAAQ,CAAC;IACpC;IACA,OAAOJ,MAAM;EACf,CAAC,CAAC;AACJ,CAAC;AAACK,OAAA,CAAAN,2BAAA,GAAAA,2BAAA"}